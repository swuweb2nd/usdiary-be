/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={3284:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&i.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(2943),c=r(5329),u=r(1171),l=r(3367),p=r(9031).Op,f=r(6293),d=r(427),y=d.gainPoints,h=d.getWeeklyPoints;t.createComment=function(){var e=a(o().mark((function e(t,r){var i,a,l,d,m,g,v,b,w,_,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=t.params.diary_id,a=t.body.content,l=r.locals.decoded.sign_id,e.next=6,c.findByPk(i);case 6:if(e.sent){e.next=9;break}return e.abrupt("return",r.status(404).json({message:"Diary not found"}));case 9:return e.next=11,u.findOne({where:{sign_id:l}});case 11:if(e.sent){e.next=14;break}return e.abrupt("return",r.status(404).json({message:"User not found"}));case 14:return e.next=16,s.create({comment_text:a,sign_id:l,diary_id:i});case 16:return d=e.sent,m=f().startOf("week").add(1,"day").toDate(),g=f().endOf("week").add(1,"day").toDate(),e.next=21,s.count({where:{sign_id:l,createdAt:(o={},j=p.between,O=[m,g],(j=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(j))in o?Object.defineProperty(o,j,{value:O,enumerable:!0,configurable:!0,writable:!0}):o[j]=O,o)}});case 21:if(v=e.sent,b=Math.floor(v/3),w=5,!(b>0)){e.next=32;break}return e.next=27,h(l);case 27:if(_=e.sent,!((x=Math.min(b,w-_))>0)){e.next=32;break}return e.next=32,y(t,r,"일기에 댓글",x);case 32:r.status(201).json({message:"댓글이 성공적으로 생성되었습니다.",data:{comment:d}}),e.next=39;break;case 35:e.prev=35,e.t0=e.catch(0),console.error("Error creating comment:",e.t0),r.status(500).json({message:"Server error",error:e.t0});case 39:case"end":return e.stop()}var o,j,O}),e,null,[[0,35]])})));return function(t,r){return e.apply(this,arguments)}}(),t.updateComment=function(){var e=a(o().mark((function e(t,r){var n,i,a,u,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params,i=n.diaryId,a=n.commentId,u=t.body.content,l=r.locals.decoded.sign_id,e.next=6,c.findByPk(i);case 6:if(e.sent){e.next=9;break}return e.abrupt("return",r.status(404).json({message:"Diary not found"}));case 9:return e.next=11,s.findOne({where:{comment_id:a,diary_id:i,sign_id:l}});case 11:if(p=e.sent){e.next=14;break}return e.abrupt("return",r.status(404).json({message:"Comment not found or you do not have permission to edit this comment"}));case 14:return p.content=u,e.next=17,p.save();case 17:r.status(200).json({message:"댓글이 성공적으로 수정되었습니다.",data:{comment:p}}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error updating comment:",e.t0),r.status(500).json({message:"Server error",error:e.t0});case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,r){return e.apply(this,arguments)}}(),t.renderComments=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.params.diary_id,i=t.params.comment_id,r.locals.decoded.sign_id,!i){e.next=12;break}return e.next=7,s.findOne({where:{diary_id:n,id:i},include:[{model:u,attributes:["sign_id","user_nick"],include:[{model:l,attributes:["profile_img"]}]}]});case 7:if(a=e.sent){e.next=10;break}return e.abrupt("return",r.status(404).json({message:"Comment not found"}));case 10:e.next=17;break;case 12:return e.next=14,s.findAll({where:{diary_id:n},include:[{model:u,attributes:["sign_id","user_nick"],include:[{model:l,attributes:["profile_img"]}]}],order:[["createdAt","ASC"]]});case 14:if((a=e.sent)&&0!==a.length){e.next=17;break}return e.abrupt("return",r.status(404).json({message:"No comments found"}));case 17:r.json({data:a}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error fetching comments:",e.t0),r.status(500).json({message:"Server error",error:e.t0});case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteComment=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.comment_id,i=r.locals.decoded.sign_id,e.prev=2,e.next=5,s.findOne({where:{comment_id:n,sign_id:i}});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Comment not found"}));case 8:return e.next=10,a.destroy();case 10:return e.abrupt("return",r.status(200).json({message:"Comment deleted successfully"}));case 13:return e.prev=13,e.t0=e.catch(2),console.error("Error deleting comment:",e.t0),e.abrupt("return",r.status(500).json({message:"Internal server error"}));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}()},4424:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&i.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(9031).Sequelize,c=r(9534),u=r(8515),l=r(7189),p=r(4635),f=r(110),d=r(427).gainPoints,y=(r(9031).Op,r(6293)),h=r(3804).uploadSingle,m=r(9896),g=r(6928);t.createTodo=function(){var e=a(o().mark((function e(t,r){var n,i,a,s,c,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,i=n.diary_id,a=n.description,s=n.is_completed,c=r.locals.decoded.sign_id,y().startOf("day").toDate(),e.prev=3,e.next=6,checkDailyActivity(c);case 6:return l=e.sent,e.next=9,u.count({where:{diary_id:i}});case 9:if(!(e.sent>4)){e.next=12;break}return e.abrupt("return",r.status(400).json({message:"You can only create up to ".concat(5," todos for this diary.")}));case 12:return e.next=14,u.create({description:a,is_completed:s,diary_id:i,sign_id:c});case 14:if(p=e.sent,l){e.next=18;break}return e.next=18,d(t,r,"콘텐츠 사용",1);case 18:r.status(201).json({message:"Todo created successfully",data:p}),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.error("Error creating todo:",e.t0),r.status(500).json({error:"An error occurred while creating the todo"});case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getTodo=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.todo_id,i=r.locals.decoded.sign_id,e.prev=2,e.next=5,u.findOne({where:{todo_id:n,sign_id:i}});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Todo not found"}));case 8:r.status(200).json({message:"Todo retrieved successfully",data:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error retrieving todo:",e.t0),r.status(500).json({error:"An error occurred while retrieving the todo"});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.updateTodo=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.todo_id,i=r.locals.decoded.sign_id,e.prev=2,e.next=5,u.findOne({where:{todo_id:n,sign_id:i}});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Todo not found"}));case 8:return a.description=void 0!==t.body.description?t.body.description:a.description,a.is_completed=void 0!==t.body.is_completed?t.body.is_completed:a.is_completed,e.next=12,a.save();case 12:r.status(200).json({message:"Todo updated successfully",data:a}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("Error updating todo:",e.t0),r.status(500).json({error:"An error occurred while updating the todo"});case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteTodo=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.todo_id,i=r.locals.decoded.sign_id,e.prev=2,e.next=5,u.findOne({where:{todo_id:n,sign_id:i}});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Todo not found"}));case 8:return e.next=10,a.destroy();case 10:r.status(200).json({message:"Todo deleted successfully"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error deleting todo:",e.t0),r.status(500).json({error:"An error occurred while deleting the todo"});case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}(),t.createRoutine=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.locals.decoded.sign_id,y().startOf("day").toDate(),e.prev=2,e.next=5,checkDailyActivity(n);case 5:return i=e.sent,e.next=8,c.count({where:{sign_id:n}});case 8:if(!(e.sent>2)){e.next=11;break}return e.abrupt("return",r.status(400).json({message:"You can only create up to ".concat(3," routines.")}));case 11:return e.next=13,c.create({description:t.body.description,is_completed:t.body.is_completed||!1,diary_id:t.body.diary_id,sign_id:n});case 13:if(a=e.sent,i){e.next=17;break}return e.next=17,d(t,r,"콘텐츠 사용",1);case 17:r.status(201).json({message:"Routine created successfully",data:a}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),console.error("Error creating routine:",e.t0),r.status(500).json({error:"An error occurred while creating the routine"});case 24:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getRoutine=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.routine_id,i=r.locals.decoded.sign_id,e.prev=2,e.next=5,c.findOne({where:{routine_id:n,sign_id:i}});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Routine not found"}));case 8:r.status(200).json({message:"Routine retrieved successfully",data:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error retrieving routine:",e.t0),r.status(500).json({error:"An error occurred while retrieving the routine"});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.updateRoutine=function(){var e=a(o().mark((function e(t,r){var n,i,a,s,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.routine_id,i=r.locals.decoded.sign_id,a=t.body,s=a.description,u=a.is_completed,e.prev=3,e.next=6,c.findOne({where:{routine_id:n,sign_id:i}});case 6:if(l=e.sent){e.next=9;break}return e.abrupt("return",r.status(404).json({message:"Routine not found"}));case 9:return l.description=void 0!==s?s:l.description,l.is_completed=void 0!==u?u:l.is_completed,e.next=13,l.save();case 13:r.status(200).json({message:"Routine updated successfully",data:l}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),console.error("Error updating routine:",e.t0),r.status(500).json({error:"An error occurred while updating the routine"});case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteRoutine=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.routine_id,i=r.locals.decoded.sign_id,e.prev=2,e.next=5,c.findOne({where:{routine_id:n,sign_id:i}});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Routine not found"}));case 8:return e.next=10,a.destroy();case 10:r.status(200).json({message:"Routine deleted successfully"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error deleting routine:",e.t0),r.status(500).json({error:"An error occurred while deleting the routine"});case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}(),t.createQuestion=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.body.question_text,i=r.locals.decoded.sign_id,e.next=5,l.create({question_text:n,sign_id:i});case 5:a=e.sent,r.status(201).json({message:"질문이 생성되었습니다.",data:a}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("질문 생성 중 오류 발생:",e.t0),r.status(500).json({message:"Failed to create question"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getRandomQuestion=function(){var e=a(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.findOne({order:s.literal("RAND()")});case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",r.status(404).json({message:"질문이 존재하지 않습니다."}));case 6:return e.abrupt("return",r.status(200).json({message:"랜덤 질문 조회 성공",data:n}));case 9:return e.prev=9,e.t0=e.catch(0),console.error("랜덤 질문 조회 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"랜덤 질문 조회에 실패했습니다."}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),t.createAnswer=[h,function(){var e=a(o().mark((function e(t,r){var n,i,a,s,c,u,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params.question_id,i=t.body,a=i.answer_text,s=i.diary_id,c=r.locals.decoded.sign_id,e.next=6,l.findByPk(n);case 6:if(e.sent){e.next=9;break}return e.abrupt("return",r.status(404).json({message:"질문을 찾을 수 없습니다."}));case 9:return u=t.file?t.file.path:null,e.next=12,p.create({question_id:n,answer_text:a,diary_id:s,sign_id:c,answer_photo:u});case 12:return f=e.sent,e.next=15,d(t,r,"콘텐츠 사용",1);case 15:r.status(201).json({message:"답변이 등록되었습니다.",data:f}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("답변 등록 중 오류 발생:",e.t0),r.status(500).json({message:"Failed to create answer"});case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,r){return e.apply(this,arguments)}}()],t.getAnswer=function(){var e=a(o().mark((function e(t,r){var n,i,a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params,i=n.question_id,a=n.answer_id,s=r.locals.decoded.sign_id,e.next=5,p.findOne({where:{answer_id:a,question_id:i,sign_id:s},include:[{model:l,attributes:["question_text"]},{model:User,attributes:["user_nick"]}]});case 5:if(c=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"답변을 찾을 수 없습니다."}));case 8:r.status(200).json({message:"답변 조회 성공",data:{answer_text:c.answer_text,answer_photo:c.answer_photo,question:c.TodayQuestion.question_text,user_nick:c.User.user_nick}}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("답변 조회 중 오류 발생:",e.t0),r.status(500).json({message:"답변 조회 중 오류가 발생했습니다."});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.updateAnswer=[h,function(){var e=a(o().mark((function e(t,r){var n,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params.answer_id,i=t.body.answer_text,a=r.locals.decoded.sign_id,e.next=6,p.findOne({where:{answer_id:n,sign_id:a}});case 6:if(s=e.sent){e.next=9;break}return e.abrupt("return",r.status(404).json({message:"답변을 찾을 수 없습니다."}));case 9:if(s.sign_id===a){e.next=11;break}return e.abrupt("return",r.status(403).json({message:"이 답변을 수정할 권한이 없습니다."}));case 11:return t.file&&(s.answer_photo=t.file.path),s.answer_text=i,e.next=15,s.save();case 15:r.status(200).json({message:"답변이 수정되었습니다.",data:s}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("답변 수정 중 오류 발생:",e.t0),r.status(500).json({message:"Failed to update answer"});case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,r){return e.apply(this,arguments)}}()],t.deleteAnswer=function(){var e=a(o().mark((function e(t,r){var n,i,a,s,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params,i=n.question_id,a=n.answer_id,s=r.locals.decoded.sign_id,e.next=5,p.findOne({where:{answer_id:a,question_id:i,sign_id:s}});case 5:if(c=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"답변을 찾을 수 없습니다."}));case 8:if(c.sign_id===s){e.next=10;break}return e.abrupt("return",r.status(403).json({message:"이 답변을 삭제할 권한이 없습니다."}));case 10:return c.answer_photo&&(u=g.join(__dirname,"../",c.answer_photo),m.unlink(u,(function(e){e?console.error("파일 삭제 중 오류 발생:",e):console.log("사진 파일이 성공적으로 삭제되었습니다.")}))),e.next=13,c.destroy();case 13:r.status(200).json({message:"답변이 삭제되었습니다."}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("답변 삭제 중 오류 발생:",e.t0),r.status(500).json({message:"답변 삭제에 실패했습니다."});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,r){return e.apply(this,arguments)}}(),t.createPlace=function(){var e=a(o().mark((function e(t,r){var n,i,a,s,c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,i=n.diary_id,a=n.cate_num,s=n.today_mood,c=n.place_memo,u=r.locals.decoded.sign_id,e.prev=2,e.next=5,f.create({cate_num:a,today_mood:s,place_memo:c,diary_id:i,sign_id:u});case 5:return l=e.sent,e.next=8,d(t,r,"콘텐츠 사용",1);case 8:r.status(201).json({message:"오늘의 장소가 성공적으로 생성되었습니다.",data:l}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("장소 생성 중 오류 발생:",e.t0),r.status(500).json({error:"장소 생성 중 오류가 발생했습니다."});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getPlace=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.place_id,i=r.locals.decoded.sign_id,e.prev=2,e.next=5,f.findOne({where:{place_id:n,sign_id:i}});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"장소를 찾을 수 없습니다."}));case 8:r.status(200).json({message:"장소 조회에 성공했습니다.",data:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("장소 조회 중 오류 발생:",e.t0),r.status(500).json({error:"장소 조회 중 오류가 발생했습니다."});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.updatePlace=function(){var e=a(o().mark((function e(t,r){var n,i,a,s,c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.place_id,i=t.body,a=i.cate_num,s=i.today_mood,c=i.place_memo,u=r.locals.decoded.sign_id,e.prev=3,e.next=6,f.findOne({where:{place_id:n,sign_id:u}});case 6:if(l=e.sent){e.next=9;break}return e.abrupt("return",r.status(404).json({message:"장소를 찾을 수 없습니다."}));case 9:return l.today_mood=void 0!==s?s:l.today_mood,l.place_memo=void 0!==c?c:l.place_memo,l.cate_num=void 0!==a?a:l.cate_num,e.next=14,l.save();case 14:r.status(200).json({message:"장소가 성공적으로 수정되었습니다.",data:l}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),console.error("장소 수정 중 오류 발생:",e.t0),r.status(500).json({error:"장소 수정 중 오류가 발생했습니다."});case 21:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t,r){return e.apply(this,arguments)}}(),t.deletePlace=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.place_id,i=r.locals.decoded.sign_id,e.prev=2,e.next=5,f.findOne({where:{place_id:n,sign_id:i}});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"장소를 찾을 수 없습니다."}));case 8:return e.next=10,a.destroy();case 10:r.status(200).json({message:"장소가 성공적으로 삭제되었습니다."}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("장소 삭제 중 오류 발생:",e.t0),r.status(500).json({error:"장소 삭제 중 오류가 발생했습니다."});case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}()},6462:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t,r){return(t=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(){"use strict";i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&o.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(i,a,s,c){var u=d(e[i],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function a(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var c=r(5329),u=r(1171),l=r(4982),p=r(427).gainPoints,f=r(6293);t.renderDiary=function(){var e=s(i().mark((function e(t,r){var n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params.diary_id,o=r.locals.decoded.sign_id,e.next=5,c.findOne({where:{diary_id:n,sign_id:o}});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Diary not found",data:{diary:a}}));case 8:return console.log(a),e.abrupt("return",r.json(a));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",r.status(500).json({message:"Server error",error:e.t0}));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),t.renderDiary=function(){var e=s(i().mark((function e(t,r){var n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params.diary_id,e.next=4,c.findOne({where:{diary_id:n},include:[{model:u,attributes:["sign_id","user_nick"]},{model:l,attributes:["board_name"]}]});case 4:if(o=e.sent){e.next=7;break}return e.abrupt("return",r.status(404).json({message:"Diary not found",data:{diary:o}}));case 7:return console.log(o),e.abrupt("return",r.json({data:{diary:o}}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",r.status(500).json({message:"Server error",error:e.t0}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.createDiary=function(){var e=s(i().mark((function e(t,r){var n,o,a,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.locals.decoded.sign_id,e.next=3,u.findOne({where:{sign_id:n}});case 3:return o=e.sent,a=t.files?t.files.map((function(e){return e.path})):[],e.prev=5,e.next=8,c.create({diary_title:t.body.diary_title,diary_content:t.body.diary_content,diary_cate:t.body.diary_cate,access_level:"2",board_id:"1",post_photo:JSON.stringify(a),user_id:o.user_id});case 8:return s=e.sent,e.next=11,p(n,"글쓰기");case 11:return e.next=13,c.findOne({where:{user_id:o.user_id},order:[["createdAt","DESC"]]});case 13:if(!(l=e.sent)||1!==f().diff(f(l.createdAt),"day")){e.next=17;break}return e.next=17,p(n,"연속 글 쓰기");case 17:if(!(t.files&&t.files.length>=3)){e.next=20;break}return e.next=20,p(n,"일기에 사진 3장 이상 첨부 시");case 20:return e.abrupt("return",r.status(201).json({message:"Diary created successfully",data:s}));case 23:return e.prev=23,e.t0=e.catch(5),console.error("Error creating diary:",e.t0),e.abrupt("return",r.status(500).json({error:"An error occurred while creating the diary"}));case 27:case"end":return e.stop()}}),e,null,[[5,23]])})));return function(t,r){return e.apply(this,arguments)}}(),t.updateDiary=function(){var e=s(i().mark((function e(t,r){var n,o,a,s,u,l,p,f,d,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.diary_id,o=r.locals.decoded.sign_id,a=t.files?t.files.map((function(e){return e.path})):[],s=t.body,u=s.diary_title,l=s.diary_content,p=s.diary_cate,f=s.access_level,e.prev=4,e.next=7,c.findOne({where:{diary_id:n,sign_id:o}});case 7:if(d=e.sent){e.next=10;break}return e.abrupt("return",r.status(404).json({message:"Diary not found"}));case 10:return e.next=12,d.update({diary_title:u||d.diary_title,diary_content:l||d.diary_content,diary_cate:p||d.diary_cate,access_level:f||d.access_level,post_photo:JSON.stringify(a)});case 12:y=e.sent,r.status(200).json({message:"Diary updated successfully",data:y}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.error("Error updating diary:",e.t0),r.status(500).json({message:"Internal Server Error"});case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteDiary=function(){var e=s(i().mark((function e(t,r){var n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.diary_id,o=r.locals.decoded.sign_id,e.prev=2,e.next=5,c.findOne({where:{diary_id:n,sign_id:o}});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Diary not found"}));case 8:return e.next=10,a.destroy();case 10:return e.abrupt("return",r.status(200).json({message:"Diary deleted successfully"}));case 13:return e.prev=13,e.t0=e.catch(2),console.error("Error deleting diary:",e.t0),e.abrupt("return",r.status(500).json({message:"Internal server error"}));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}(),t.sortDiary=function(){var e=s(i().mark((function e(t,r){var n,o,a,s,p,f,d,y,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.query,o=n.page,a=void 0===o?1:o,s=n.limit,p=void 0===s?15:s,f=n.board_id,d=(a-1)*p,y={},f&&(y.board_id=parseInt(f,10)),e.next=7,c.count({where:y});case 7:return h=e.sent,e.next=10,c.findAll({where:y,include:[{model:u,attributes:["sign_id","user_nick"]},{model:l,attributes:["board_name"]}],order:[["createdAt","DESC"]],limit:parseInt(p,10),offset:d,loggin:console.log});case 10:return m=e.sent,e.abrupt("return",r.json({data:{diary:m,totalDiaries:h}}));case 14:return e.prev=14,e.t0=e.catch(0),console.error("Error sorting diary:",e.t0),e.abrupt("return",r.status(500).json({message:"Internal Server Error"}));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}();var d=r(9031).Op;t.sortWeeklyViews=function(){var e=s(i().mark((function e(t,r){var n,a,s,p,f,y,h,m,g,v,b,w,_;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.query,a=n.page,s=void 0===a?1:a,p=n.limit,f=void 0===p?15:p,y=n.board_id,h=(s-1)*f,m=new Date,(g=new Date(m.setDate(m.getDate()-m.getDay()))).setHours(0,0,0,0),(v=new Date(g)).setDate(v.getDate()+6),v.setHours(23,59,59,999),b={createdAt:o({},d.between,[g,v])},y&&(b.board_id=y),e.next=13,c.count({where:b});case 13:return w=e.sent,e.next=16,c.findAll({where:b,include:[{model:u,attributes:["sign_id","user_nick"]},{model:l,attributes:["board_name"]}],order:[["view_count","DESC"]],limit:parseInt(f,10),offset:h,loggin:console.log});case 16:return _=e.sent,e.abrupt("return",r.json({data:{diary:_,totalDiaries:w}}));case 20:return e.prev=20,e.t0=e.catch(0),console.error("Error sorting weekly views:",e.t0),e.abrupt("return",r.status(500).json({message:"Internal Server Error"}));case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,r){return e.apply(this,arguments)}}(),t.sortWeeklyLikes=function(){var e=s(i().mark((function e(t,r){var n,a,s,p,f,y,h,m,g,v,b,w,_;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.query,a=n.page,s=void 0===a?1:a,p=n.limit,f=void 0===p?15:p,y=n.board_id,h=(s-1)*f,m=new Date,(g=new Date(m.setDate(m.getDate()-m.getDay()))).setHours(0,0,0,0),(v=new Date(g)).setDate(v.getDate()+6),v.setHours(23,59,59,999),b={createdAt:o({},d.between,[g,v])},y&&(b.board_id=y),e.next=13,c.count({where:b});case 13:return w=e.sent,e.next=16,c.findAll({where:b,include:[{model:u,attributes:["sign_id","user_nick"]},{model:l,attributes:["board_name"]}],order:[["like_count","DESC"]],limit:parseInt(f,10),offset:h,loggin:console.log});case 16:_=e.sent,r.json({data:{diary:_,totalDiaries:w}}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error sorting weekly views:",e.t0),r.status(500).json({message:"Internal Server Error"});case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,r){return e.apply(this,arguments)}}()},9805:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&i.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(8792),c=r(1171),u=r(5329),l=r(3367),p=r(427).gainPoints;t.getFriends=function(){var e=a(o().mark((function e(t,r){var n,i,a,u,l,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded.sign_id,console.log(n),e.next=5,s.findAll({where:{follower_sign_id:n},attributes:["following_sign_id"]});case 5:return i=e.sent,e.next=8,s.findAll({where:{following_sign_id:n},attributes:["follower_sign_id"]});case 8:if(a=e.sent,u=i.map((function(e){return e.following_sign_id})).filter((function(e){return a.some((function(t){return t.follower_sign_id===e}))})),l=u.length,!((f=2*Math.floor(l/5))>0)){e.next=15;break}return e.next=15,p(t,r,"서로 무너 관계 맺기",f);case 15:return e.next=17,c.findAll({where:{sign_id:u}});case 17:d=e.sent,r.status(200).json({message:"Friend list retrieved successfully",data:d}),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.error("Error retrieving friend list:",e.t0),r.status(500).json({error:"An error occurred while retrieving the friend list"});case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getFollowers=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded.sign_id,e.next=4,s.findAll({where:{following_sign_id:n},include:[{model:c,as:"Follower",attributes:["sign_id","user_name","user_tendency"]}]});case 4:if((i=e.sent).length){e.next=7;break}return e.abrupt("return",r.status(404).json({message:"No followers found"}));case 7:a=i.map((function(e){return e.Follower})),r.status(200).json({message:"Follower list retrieved successfully",data:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error retrieving followers:",e.t0),r.status(500).json({error:"An error occurred while retrieving the followers"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getFollowing=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded.sign_id,e.next=4,s.findAll({where:{follower_sign_id:n},include:[{model:c,as:"Following",attributes:["sign_id","user_name","user_tendency"]}]});case 4:if((i=e.sent).length){e.next=7;break}return e.abrupt("return",r.status(404).json({message:"No following found"}));case 7:a=i.map((function(e){return e.Following})),r.status(200).json({message:"Following list retrieved successfully",data:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error retrieving following:",e.t0),r.status(500).json({error:"An error occurred while retrieving the following list"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteFollowers=function(){var e=a(o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded.sign_id,i=t.body.follower_sign_id,e.next=5,s.destroy({where:{follower_sign_id:i,following_sign_id:n}});case 5:if(0!==e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Follower not found"}));case 8:r.status(200).json({message:"Follower deleted successfully"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error deleting follower:",e.t0),r.status(500).json({error:"An error occurred while deleting the follower"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteFollowing=function(){var e=a(o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded.sign_id,i=t.body.following_sign_id,e.next=5,s.destroy({where:{follower_sign_id:n,following_sign_id:i}});case 5:if(0!==e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Following not found"}));case 8:r.status(200).json({message:"Following deleted successfully"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error deleting following:",e.t0),r.status(500).json({error:"An error occurred while deleting the following"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.sendFollowRequest=function(){var e=a(o().mark((function e(t,r){var n,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded.sign_id,i=t.body.requested_sign_id,e.next=5,s.findOne({where:{follower_sign_id:n,following_sign_id:i}});case 5:if(!(a=e.sent)){e.next=13;break}if("pending"!==a.status){e.next=11;break}return e.abrupt("return",r.status(400).json({message:"팔로우 요청 중입니다."}));case 11:if("accepted"!==a.status){e.next=13;break}return e.abrupt("return",r.status(400).json({message:"이미 팔로우 상태입니다."}));case 13:if(!a){e.next=18;break}return e.next=16,a.update({status:"pending"});case 16:e.next=20;break;case 18:return e.next=20,s.create({follower_sign_id:n,following_sign_id:i,status:"pending"});case 20:return e.next=22,c.findOne({where:{sign_id:i},attributes:["sign_id","user_nick"],include:[{model:l,attributes:["profile_img"]}]});case 22:return u=e.sent,e.abrupt("return",r.status(201).json({message:"".concat(u.user_nick,"님에게 팔로우 요청을 보냈습니다."),data:{sign_id:u.sign_id,user_nick:u.user_nick,profile_img:u.Profile?u.Profile.profile_img:null}}));case 26:return e.prev=26,e.t0=e.catch(0),console.error("Error sending follow request:",e.t0),e.abrupt("return",r.status(500).json({error:"팔로우 요청 중 오류가 발생했습니다."}));case 30:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(t,r){return e.apply(this,arguments)}}(),t.handleFollowRequest=function(){var e=a(o().mark((function e(t,r){var n,i,a,u,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded.sign_id,i=t.body.follower_sign_id,a=t.body.action,e.next=6,s.findOne({where:{follower_sign_id:i,following_sign_id:n,status:"pending"}});case 6:if(u=e.sent){e.next=9;break}return e.abrupt("return",r.status(404).json({message:"팔로우 요청을 찾을 수 없습니다."}));case 9:return e.next=11,c.findOne({where:{sign_id:i},attributes:["sign_id","user_nick"],include:[{model:l,attributes:["profile_img"]}]});case 11:if(p=e.sent){e.next=14;break}return e.abrupt("return",r.status(404).json({message:"팔로우 요청을 보낸 사용자를 찾을 수 없습니다."}));case 14:if("accepted"!==a){e.next=26;break}return e.next=17,u.update({status:"accepted"});case 17:return e.next=19,s.create({follower_sign_id:i,following_sign_id:n,status:"accepted"});case 19:return e.next=21,s.findOne({where:{follower_sign_id:n,following_sign_id:i,status:"accepted"}});case 21:return e.sent&&console.log("친구가 되었습니다."),e.abrupt("return",r.status(200).json({message:"".concat(p.user_nick,"님의 팔로우 요청을 수락하였습니다."),data:{follower_sign_id:p.sign_id,follower_user_nick:p.user_nick,follower_profile_img:p.Profile?p.Profile.profile_img:null,status:"accepted"}}));case 26:if("rejected"!==a){e.next=32;break}return e.next=29,u.update({status:"rejected"});case 29:return e.abrupt("return",r.status(200).json({message:"".concat(p.user_nick,"님의 팔로우 요청을 거절했습니다."),status:"rejected"}));case 32:return e.abrupt("return",r.status(400).json({message:"잘못된 요청입니다."}));case 33:e.next=39;break;case 35:return e.prev=35,e.t0=e.catch(0),console.error("Error handling follow request:",e.t0),e.abrupt("return",r.status(500).json({error:"팔로우 요청 처리 중 오류가 발생했습니다."}));case 39:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,r){return e.apply(this,arguments)}}(),t.searchFriend=function(){var e=a(o().mark((function e(t,r){var n,i,a,u,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded.sign_id,i=t.query.sign_id,e.next=5,s.findOne({where:{follower_sign_id:n,following_sign_id:i,status:"accepted"}});case 5:return a=e.sent,e.next=8,s.findOne({where:{follower_sign_id:i,following_sign_id:n,status:"accepted"}});case 8:if(u=e.sent,a&&u){e.next=11;break}return e.abrupt("return",r.status(404).json({message:"해당 사용자는 친구 목록에 없습니다."}));case 11:return e.next=13,c.findOne({where:{sign_id:i},attributes:["sign_id","user_name","user_nick"],include:[{model:l,attributes:["profile_img"]}]});case 13:return p=e.sent,e.abrupt("return",r.status(200).json({message:"친구 목록에서 사용자를 찾았습니다.",data:{sign_id:p.sign_id,user_name:p.user_name,user_nick:p.user_nick,profile_img:p.Profile?p.Profile.profile_img:null}}));case 17:return e.prev=17,e.t0=e.catch(0),console.error("Error searching friend in list:",e.t0),e.abrupt("return",r.status(500).json({error:"친구 목록에서 사용자를 검색하는 중 오류가 발생했습니다."}));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getFriendDiaries=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded.sign_id,i=t.params.following_sign_id,e.next=5,s.findAll({where:{follower_sign_id:n},attributes:["following_sign_id"]});case 5:if(e.sent.map((function(e){return e.following_sign_id})).includes(i)){e.next=9;break}return e.abrupt("return",r.status(404).json({message:"Selected following ID is not in the following list"}));case 9:return e.next=11,u.findAll({where:{sign_id:i},order:[["created_at","DESC"]]});case 11:if((a=e.sent).length){e.next=14;break}return e.abrupt("return",r.status(404).json({message:"No posts found from the selected following"}));case 14:r.status(200).json({message:"Friend posts retrieved successfully",data:a}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error retrieving friend posts:",e.t0),r.status(500).json({error:"An error occurred while retrieving friend posts"});case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,r){return e.apply(this,arguments)}}()},3298:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&i.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(9031).Op,c=r(6293),u=r(6099),l=r(5329),p=r(427).gainPoints;t.likeDiary=function(){var e=a(o().mark((function e(t,r){var i,a,f,d,y,h,m,g,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=t.locals.decoded.sign_id,e.next=4,u.create({user_id:i,diary_id:t.body.diary_id});case 4:return a=e.sent,e.next=7,l.increment("like_count",{by:1,where:{diary_id:t.body.diary_id}});case 7:return f=c().startOf("week").add(1,"day").toDate(),d=c().endOf("week").add(1,"day").toDate(),e.next=11,u.count({where:{user_id:i,createdAt:(o={},b=s.between,w=[f,d],(b=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(b))in o?Object.defineProperty(o,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):o[b]=w,o)}});case 11:if(y=e.sent,h=Math.floor(y/5),m=5,!(h>0)){e.next=22;break}return e.next=17,getWeeklyPoints(i);case 17:if(g=e.sent,!((v=Math.min(h,m-g))>0)){e.next=22;break}return e.next=22,p(t,r,"일기에 좋아요",v);case 22:r.status(201).json({message:"Like created successfully",data:a}),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(0),console.error("Error creating like:",e.t0),r.status(500).json({error:"An error occurred while creating the like"});case 29:case"end":return e.stop()}var o,b,w}),e,null,[[0,25]])})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteLike=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params.like_id,i=t.locals.decoded.sign_id,e.next=5,u.findOne({where:{like_id:n,user_id:i}});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Like not found"}));case 8:return e.next=10,a.destroy();case 10:return e.abrupt("return",r.status(200).json({message:"Like deleted successfully"}));case 13:return e.prev=13,e.t0=e.catch(0),console.error("Error deleting like:",e.t0),e.abrupt("return",r.status(500).json({message:"Internal server error"}));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}()},3393:(e,t)=>{t.viewOppositePage=function(e,t){t.json({message:"Opposite page viewed"})},t.useCommunity=function(e,t){t.json({message:"Community accessed"})},t.follow=function(e,t){t.json({message:"Followed successfully"})},t.postOnOppositePage=function(e,t){t.json({message:"Post created on opposite page"})}},7868:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t,r){return(t=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(){"use strict";i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&o.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(i,a,s,c){var u=d(e[i],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function a(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var c=r(9031).Op,u=r(4758),l=u.User,p=u.Profile,f=u.Diary,d=u.Board;t.getProfile=function(){var e=s(i().mark((function e(t,r){var n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.user_id,e.prev=1,e.next=4,l.findOne({where:{user_id:n},attributes:["sign_id","user_nick","user_email","user_name","user_phone","user_birthday","user_gender"],include:[{model:p,attributes:["profile_img"]}]});case 4:if(o=e.sent){e.next=7;break}return e.abrupt("return",r.status(404).json({message:"해당 사용자가 존재하지 않습니다."}));case 7:r.status(200).json({message:"사용자 정보 조회 성공",data:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r.status(500).json({message:"사용자 정보를 조회하는 중 오류가 발생했습니다.",error:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}(),t.updateProfile=function(){var e=s(i().mark((function e(t,r){var n,o,a,s,c,u,f,d,y,h,m,g,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.user_id,o=t.body,a=o.sign_id,s=o.user_nick,c=o.user_pwd,u=o.user_email,f=o.user_name,d=o.user_phone,y=o.user_birthday,h=o.user_gender,m=t.file?t.file.filename:null,e.prev=3,e.next=6,l.findOne({where:{user_id:n}});case 6:if(g=e.sent){e.next=9;break}return e.abrupt("return",r.status(404).json({message:"해당 사용자가 존재하지 않습니다."}));case 9:return e.next=11,g.update({sign_id:a,user_nick:s,user_pwd:c,user_email:u,user_name:f,user_phone:d,user_birthday:y,user_gender:h});case 11:return e.next=13,p.findOne({where:{user_id:n}});case 13:if(!(v=e.sent)){e.next=19;break}return e.next=17,v.update({profile_img:m});case 17:e.next=21;break;case 19:return e.next=21,p.create({user_id:n,profile_img:m});case 21:r.status(200).json({message:"사용자 정보가 성공적으로 업데이트되었습니다."}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),r.status(500).json({message:"사용자 정보를 업데이트하는 중 오류가 발생했습니다.",error:e.t0.message});case 27:case"end":return e.stop()}}),e,null,[[3,24]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getDiariesByDate=function(){var e=s(i().mark((function e(t,r){var n,a,s,u,l,p,y,h,m,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.date,e.prev=1,(a=new Date(n)).setHours(0,0,0,0),(s=new Date(n)).setHours(23,59,59,999),e.next=8,f.findAll({where:{createdAt:o({},c.between,[a,s])},order:[["createdAt","DESC"]],attributes:["diary_id","diary_title","diary_content","board_id"],include:[{model:d,attributes:["board_name"]}]});case 8:if(0!==(u=e.sent).length){e.next=11;break}return e.abrupt("return",r.status(404).json({message:"해당 날짜에 작성된 일기가 없습니다."}));case 11:return l=new Date(a.getFullYear(),a.getMonth(),1),(p=new Date(a.getFullYear(),a.getMonth()+1,0)).setHours(23,59,59,999),e.next=16,f.findAll({where:{createdAt:o({},c.between,[l,p])},include:[{model:d,attributes:["board_name"]}]});case 16:y=e.sent,h=y.reduce((function(e,t){var r=t.board.board_name;return"숲"===r?e.forest+=1:"도시"===r?e.city+=1:"바다"===r&&(e.sea+=1),e}),{forest:0,city:0,sea:0}),m=y.length,g={forest:(h.forest/m*100).toFixed(2),city:(h.city/m*100).toFixed(2),sea:(h.sea/m*100).toFixed(2)},r.status(200).json({message:"일기 조회 및 월별 통계 조회 성공",data:u,statistics:g}),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(1),console.error("Error fetching diaries and statistics:",e.t0),r.status(500).json({message:"서버 오류",error:e.t0.message});case 27:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t,r){return e.apply(this,arguments)}}()},1061:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&i.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(4758).Notice;t.renderNoticeList=function(){var e=a(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.findAll();case 3:return n=e.sent,e.abrupt("return",r.status(200).json({message:"공지사항 목록 조회 성공",data:n}));case 7:return e.prev=7,e.t0=e.catch(0),console.error("공지사항 목록 조회 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"공지사항 목록 조회에 실패했습니다."}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),t.renderNotice=function(){var e=a(o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.notice_id,e.prev=1,e.next=4,s.findByPk(n);case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return",r.status(404).json({message:"해당 공지사항을 찾을 수 없습니다."}));case 7:return e.next=9,i.increment("view_count",{by:1});case 9:return e.abrupt("return",r.status(200).json({message:"공지사항 조회 성공",data:i}));case 12:return e.prev=12,e.t0=e.catch(1),console.error("공지사항 조회 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"공지사항 조회에 실패했습니다."}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,r){return e.apply(this,arguments)}}(),t.createNotice=function(){var e=a(o().mark((function e(t,r){var n,i,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,i=n.title,a=n.content,e.prev=1,e.next=4,s.create({title:i,content:a});case 4:return c=e.sent,e.abrupt("return",r.status(201).json({message:"공지사항 생성 성공",data:c}));case 8:return e.prev=8,e.t0=e.catch(1),console.error("공지사항 생성 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"공지사항 생성에 실패했습니다."}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}(),t.updateNotice=function(){var e=a(o().mark((function e(t,r){var n,i,a,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.notice_id,i=t.body,a=i.title,c=i.content,e.prev=2,e.next=5,s.findByPk(n);case 5:if(u=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"해당 공지사항을 찾을 수 없습니다."}));case 8:return e.next=10,u.update({title:a,content:c});case 10:return e.abrupt("return",r.status(200).json({message:"공지사항 수정 성공",data:u}));case 13:return e.prev=13,e.t0=e.catch(2),console.error("공지사항 수정 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"공지사항 수정에 실패했습니다."}));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteNotice=function(){var e=a(o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.notice_id,e.prev=1,e.next=4,s.findByPk(n);case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return",r.status(404).json({message:"해당 공지사항을 찾을 수 없습니다."}));case 7:return e.next=9,i.destroy();case 9:return e.abrupt("return",r.status(200).json({message:"공지사항 삭제 성공"}));case 12:return e.prev=12,e.t0=e.catch(1),console.error("공지사항 삭제 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"공지사항 삭제에 실패했습니다."}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,r){return e.apply(this,arguments)}}()},427:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&i.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(1171),c=r(6374),u=r(9031).Op,l=r(6293);t.createPointCriteria=function(){var e=a(o().mark((function e(t,r){var n,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.body,i=n.content,a=n.remark,s=n.points,i&&s){e.next=4;break}return e.abrupt("return",r.status(400).json({message:"필수 항목이 누락되었습니다."}));case 4:return e.next=6,c.create({content:i,remark:a,points:s});case 6:return u=e.sent,e.abrupt("return",r.status(201).json({message:"포인트 획득 기준이 성공적으로 등록되었습니다.",data:u}));case 10:return e.prev=10,e.t0=e.catch(0),console.error("포인트 기준 등록 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"서버 오류"}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getAllPointCriteria=function(){var e=a(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.findAll();case 3:if((n=e.sent)&&0!==n.length){e.next=6;break}return e.abrupt("return",r.status(404).json({message:"포인트 기준이 없습니다."}));case 6:return e.abrupt("return",r.status(200).json({message:"포인트 기준 조회 성공",data:n}));case 9:return e.prev=9,e.t0=e.catch(0),console.error("포인트 기준 조회 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"서버 오류"}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),t.updatePointCriteria=function(){var e=a(o().mark((function e(t,r){var n,i,a,s,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params.criteria_id,i=t.body,a=i.content,s=i.remark,u=i.points,e.next=5,c.findByPk(n);case 5:if(l=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"포인트 획득 기준을 찾을 수 없습니다."}));case 8:return e.next=10,l.update({content:a||l.content,remark:s||l.remark,points:u||l.points});case 10:return e.abrupt("return",r.status(200).json({message:"포인트 획득 기준이 성공적으로 수정되었습니다.",data:l}));case 13:return e.prev=13,e.t0=e.catch(0),console.error("포인트 기준 수정 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"서버 오류"}));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}(),t.deletePointCriteria=function(){var e=a(o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params.criteria_id,e.next=4,c.findByPk(n);case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return",r.status(404).json({message:"포인트 획득 기준을 찾을 수 없습니다."}));case 7:return e.next=9,i.destroy();case 9:return e.abrupt("return",r.status(200).json({message:"포인트 획득 기준이 성공적으로 삭제되었습니다."}));case 12:return e.prev=12,e.t0=e.catch(0),console.error("포인트 기준 삭제 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"서버 오류"}));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),t.gainPoints=function(){var e=a(o().mark((function e(t,r){var n,i,a,u,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:null,e.prev=1,e.next=4,c.findOne({where:{content:r}});case 4:if((i=e.sent)||null!==n){e.next=8;break}return console.error("해당 활동에 대한 포인트 기준이 없습니다."),e.abrupt("return",null);case 8:return e.next=10,s.findOne({where:{sign_id:t}});case 10:if(a=e.sent){e.next=14;break}return console.error("사용자를 찾을 수 없습니다."),e.abrupt("return",null);case 14:return u=null!==n?n:i.points,a.user_point+=u,e.next=18,a.save();case 18:return e.abrupt("return","".concat(u,"점 획득했습니다. 현재 포인트: ").concat(a.user_point));case 21:return e.prev=21,e.t0=e.catch(1),console.error("포인트 획득 중 오류 발생:",e.t0),e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t,r){return e.apply(this,arguments)}}(),t.deductPoints=function(){var e=a(o().mark((function e(t,r,n){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=r.locals.decoded.sign_id,e.next=4,c.findOne({where:{content:n}});case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",r.status(404).json({status:404,message:"해당 활동에 대한 포인트 기준이 없습니다.",data:null}));case 7:return e.next=9,s.findOne({where:{sign_id:i}});case 9:if(u=e.sent){e.next=12;break}return e.abrupt("return",r.status(404).json({status:404,message:"사용자를 찾을 수 없습니다.",data:null}));case 12:return u.user_point-=Math.abs(a.points),e.next=15,u.save();case 15:return e.abrupt("return",r.status(200).json({status:200,message:"".concat(Math.abs(a.points),"점 차감되었습니다."),data:{points:u.user_point}}));case 18:return e.prev=18,e.t0=e.catch(0),console.error("포인트 차감 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({status:500,message:"포인트 차감 중 오류가 발생했습니다.",data:null}));case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,r,n){return e.apply(this,arguments)}}(),t.getWeeklyPoints=function(){var e=a(o().mark((function e(t){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l(),i=r.startOf("week").add(1,"day").toDate(),a=r.endOf("week").add(1,"day").toDate(),e.next=5,Point.sum("point_num",{where:{user_id:t,createdAt:(o={},c=u.between,p=[i,a],(c=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(c))in o?Object.defineProperty(o,c,{value:p,enumerable:!0,configurable:!0,writable:!0}):o[c]=p,o)}});case 5:return s=e.sent,e.abrupt("return",s||0);case 7:case"end":return e.stop()}var o,c,p}),e)})));return function(t){return e.apply(this,arguments)}}()},8339:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&i.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(7668);t.renderQnaList=function(){var e=a(o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded.sign_id,e.next=4,s.findAll({where:{sign_id:n},attributes:["qna_id","qna_title","is_completed","view_count"]});case 4:if((i=e.sent)&&0!==i.length){e.next=7;break}return e.abrupt("return",r.status(404).json({message:"No inquiries found"}));case 7:console.log(i),r.json(i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r.status(500).json({message:"Server error",error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),t.renderQna=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded.sign_id,i=t.params.qna_id,e.next=5,s.findOne({where:{qna_id:i,sign_id:n},attributes:["qna_id","qna_title","qna_content","is_completed","view_count"]});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Inquiry not found"}));case 8:console.log(a),r.json(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r.status(500).json({message:"Server error",error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),t.createQna=function(){var e=a(o().mark((function e(t,r){var n,i,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.body,i=n.titleId,a=n.contentId,r.locals.decoded.sign_id,e.next=5,s.create({qna_title:i,qna_content:a,is_completed:!1});case 5:c=e.sent,console.log(c),r.status(201).json(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r.status(500).json({message:"Server error",error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()},2480:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&i.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(5486),c=r(829),u=r(6982),l=r(7906),p=r(4758).User,f=r(7774).sendVerificationEmail,d=new Map,y=function(e){return e&&l.isEmail(e)};t.sendVerificationCode=function(){var e=a(o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.body.user_email){e.next=3;break}return e.abrupt("return",r.status(400).json({message:"이메일을 입력하세요."}));case 3:if(y(n)){e.next=5;break}return e.abrupt("return",r.status(400).json({message:"유효하지 않은 이메일 주소입니다."}));case 5:return e.prev=5,e.next=8,p.findOne({where:{user_email:n}});case 8:if(!e.sent){e.next=11;break}return e.abrupt("return",r.status(400).json({message:"이미 등록된 이메일입니다."}));case 11:return i=u.randomBytes(3).toString("hex"),d.set(n,{code:i,expiresAt:new Date(Date.now()+9e5)}),e.next=15,f(n,i);case 15:r.status(200).json({message:"이메일을 확인하세요.",verificationCode:i}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),r.status(500).json({message:"이메일 인증 중 오류가 발생했습니다.",error:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t,r){return e.apply(this,arguments)}}(),t.verifyCode=function(){var e=a(o().mark((function e(t,r){var n,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.body,i=n.user_email,a=n.verificationCode,i&&a){e.next=3;break}return e.abrupt("return",r.status(400).json({success:!1,message:"이메일과 인증번호를 입력하세요."}));case 3:if(e.prev=3,s=d.get(i)){e.next=7;break}return e.abrupt("return",r.status(400).json({success:!1,message:"이메일에 대한 인증번호가 없습니다."}));case 7:if(s.code===a){e.next=9;break}return e.abrupt("return",r.status(400).json({success:!1,message:"인증번호가 일치하지 않습니다."}));case 9:if(!(s.expiresAt<new Date)){e.next=11;break}return e.abrupt("return",r.status(400).json({success:!1,message:"인증번호가 만료되었습니다."}));case 11:d.delete(i),r.status(200).json({success:!0,message:"인증번호가 확인되었습니다. 회원 가입을 계속 진행하세요."}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.status(500).json({success:!1,message:"서버 오류가 발생했습니다.",error:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,r){return e.apply(this,arguments)}}(),t.register=function(){var e=a(o().mark((function e(t,r){var n,i,a,l,f,h,m,g,v,b,w,_,x,j,O;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.body,i=n.sign_id,a=n.user_phone,l=n.user_nick,f=n.user_email,h=n.user_pwd,m=n.user_name,g=n.verificationCode,v=n.confirmPassword,b=n.user_birthday,w=n.user_gender,i&&l&&f&&h&&m&&a&&b&&w){e.next=3;break}return e.abrupt("return",r.status(400).json({message:"모든 필드를 입력해야 합니다."}));case 3:if(y(f)){e.next=5;break}return e.abrupt("return",r.status(400).json({message:"유효하지 않은 이메일 주소입니다."}));case 5:if(!(h.length<6)){e.next=7;break}return e.abrupt("return",r.status(400).json({message:"비밀번호는 6자 이상이어야 합니다."}));case 7:if(h===v){e.next=9;break}return e.abrupt("return",r.status(400).json({message:"비밀번호가 일치하지 않습니다."}));case 9:return e.prev=9,_=d.get(f),console.log(_),console.log(g),d.delete(f),e.next=16,s.hash(h,10);case 16:return x=e.sent,e.next=19,p.create({sign_id:i,user_nick:l,user_pwd:x,user_email:f,user_name:m,user_phone:a,user_gender:"male"===w,user_birthday:new Date(b),verificationToken:u.randomBytes(32).toString("hex"),isVerified:!0});case 19:j=e.sent,O=c.sign({sign_id:j.sign_id,user_id:j.user_id},process.env.JWT_SECRET,{expiresIn:"24h"}),r.status(201).json({message:"회원가입이 완료되었습니다.",data:{newUser:j,token:O}}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(9),r.status(500).json({message:"서버 오류가 발생했습니다.",error:e.t0.message});case 27:case"end":return e.stop()}}),e,null,[[9,24]])})));return function(t,r){return e.apply(this,arguments)}}(),t.checkId=function(){var e=a(o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.query.uid){e.next=3;break}return e.abrupt("return",r.status(400).json({message:"아이디를 입력하세요."}));case 3:return i=decodeURIComponent(n),e.prev=4,e.next=7,p.findOne({where:{sign_id:i}});case 7:if(!e.sent){e.next=10;break}return e.abrupt("return",r.status(400).json({message:"이미 사용 중인 아이디입니다."}));case 10:r.status(200).json({message:"사용 가능한 아이디입니다."}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),r.status(500).json({message:"서버 오류가 발생했습니다.",error:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,r){return e.apply(this,arguments)}}(),t.checkNickname=function(){var e=a(o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.query.unick){e.next=3;break}return e.abrupt("return",r.status(400).json({message:"닉네임을 입력하세요."}));case 3:return i=decodeURIComponent(n),e.prev=4,e.next=7,p.findOne({where:{user_nick:i}});case 7:if(!e.sent){e.next=10;break}return e.abrupt("return",r.status(400).json({message:"이미 사용 중인 닉네임입니다."}));case 10:r.status(200).json({message:"사용 가능한 닉네임입니다."}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),r.status(500).json({message:"서버 오류가 발생했습니다.",error:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,r){return e.apply(this,arguments)}}()},4751:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&i.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(2943),c=r(5329),u=r(6978),l=r(1171),p=r(427).deductPoints;t.createReport=function(){var e=a(o().mark((function e(t,r){var n,i,a,f,d,y,h,m,g,v,b,w,_;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded.sign_id,i=t.body,a=i.diary_id,f=i.comment_id,d=i.report_type,y=i.report_reason,h=i.is_false_report,e.next=5,c.findOne({where:{diary_id:a}});case 5:if(m=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({error:"Diary not found"}));case 8:if(g=m.sign_id,v=null,!f){e.next=17;break}return e.next=13,s.findOne({where:{comment_id:f}});case 13:if(b=e.sent){e.next=16;break}return e.abrupt("return",r.status(404).json({error:"Comment not found"}));case 16:v=b.sign_id;case 17:return e.next=19,u.create({reporter_id:n,reported_id:g,diary_id:a,comment_id:f||null,report_type:d,report_reason:y});case 19:if(w=e.sent,!h){e.next=25;break}return e.next=23,p(t,r,"허위 신고",10);case 23:e.next=43;break;case 25:return e.next=27,l.findOne({where:{sign_id:g}});case 27:if(!(_=e.sent)){e.next=36;break}return e.next=31,_.increment("ban_count",{by:1});case 31:if(!(_.ban_count>=3)){e.next=34;break}return e.next=34,p(t,r,"반복적인 신고 접수",15);case 34:return e.next=36,p(t,r,"게시글 신고",10);case 36:if(!v){e.next=43;break}return e.next=39,l.findOne({where:{sign_id:v}});case 39:if(!e.sent){e.next=43;break}return e.next=43,p(t,r,"댓글 신고",5);case 43:r.status(201).json({message:"Report created successfully",data:w}),e.next=50;break;case 46:e.prev=46,e.t0=e.catch(0),console.error("Error creating Report:",e.t0),r.status(500).json({error:"An error occurred while creating the Report"});case 50:case"end":return e.stop()}}),e,null,[[0,46]])})));return function(t,r){return e.apply(this,arguments)}}(),t.reportList=function(){var e=a(o().mark((function e(t){var r,n,i,a,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=req.query,n=r.page,i=void 0===n?1:n,a=r.limit,c=(i-1)*(s=void 0===a?10:a),e.next=5,u.findAll({order:[["createdAt","DESC"]],limit:parseInt(s),offset:c});case 5:l=e.sent,console.log(l),t.json(l),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error listing Reports:",e.t0),t.status(500).json({error:"An error occurred while listing Reports"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},5709:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&i.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(829),c=r(5486),u=r(4758).User,l=r(818),p=r(3850).google;l.config(),t.login=function(){var e=a(o().mark((function e(t,r){var n,i,a,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.body,i=n.sign_id,a=n.password,e.prev=1,i&&a){e.next=4;break}return e.abrupt("return",r.status(400).json({message:"아이디와 비밀번호는 필수 입력 사항입니다."}));case 4:return e.next=6,u.findOne({where:{sign_id:i}});case 6:if(l=e.sent){e.next=9;break}return e.abrupt("return",r.status(401).json({message:"존재하지 않는 아이디입니다."}));case 9:return console.log("User found:",l.sign_id),e.next=12,c.compare(a,l.user_pwd);case 12:if(e.sent){e.next=16;break}return console.log("Invalid password."),e.abrupt("return",r.status(401).json({message:"잘못된 비밀번호입니다."}));case 16:return console.log("Password validated successfully."),e.next=19,l.update({last_login:new Date});case 19:p=s.sign({sign_id:l.sign_id,user_id:l.user_id},process.env.JWT_SECRET,{expiresIn:"24h"}),r.json({message:"로그인 성공",data:{token:p,user:l,last_login:l.last_login}}),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(1),console.error("로그인 처리 중 오류 발생:",e.t0),r.status(500).json({message:"내부 서버 오류입니다."});case 27:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t,r){return e.apply(this,arguments)}}(),t.findId=function(){var e=a(o().mark((function e(t,r){var n,i,a,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,i=n.user_name,a=n.user_email,s=n.user_birthday,e.prev=1,c="string"==typeof s?s.split("T")[0]:new Date(s).toISOString().split("T")[0],e.next=5,u.findOne({where:{user_name:i,user_email:a,user_birthday:c}});case 5:if(l=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"사용자 정보와 일치하는 계정이 없습니다."}));case 8:r.status(200).json({message:"".concat(i,"님의 아이디입니다."),data:{sign_id:l.sign_id}}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("ID 찾기 중 오류 발생:",e.t0),r.status(500).json({message:"서버 내부 오류"});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}();var f=function(){for(var e="",t=0;t<12;t++)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%".charAt(Math.floor(67*Math.random()));return e};t.findPwd=function(){var e=a(o().mark((function e(t,r){var n,i,a,s,l,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,i=n.user_name,a=n.sign_id,s=n.user_email,e.prev=1,e.next=4,u.findOne({where:{user_name:i,sign_id:a,user_email:s}});case 4:if(l=e.sent){e.next=7;break}return e.abrupt("return",r.status(404).json({message:"사용자 정보와 일치하는 계정이 없습니다."}));case 7:return p=f(),e.next=10,c.hash(p,10);case 10:return d=e.sent,e.next=13,l.update({user_pwd:d});case 13:console.log(p),r.status(200).json({message:"".concat(i,"님의 임시 비밀번호입니다. 로그인 후 비밀번호를 변경해주세요."),data:{temporaryPassword:p}}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("비밀번호 찾기 중 오류 발생:",e.t0),r.status(500).json({message:"서버 내부 오류"});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,r){return e.apply(this,arguments)}}(),t.checkPassword=function(){var e=a(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.body.password,e.prev=1,n){e.next=4;break}return e.abrupt("return",r.status(400).json({message:"비밀번호는 필수 입력 사항입니다."}));case 4:return i=r.locals.decoded.user_id,e.next=7,u.findOne({where:{user_id:i}});case 7:if(a=e.sent){e.next=10;break}return e.abrupt("return",r.status(404).json({message:"사용자를 찾을 수 없습니다."}));case 10:return e.next=12,c.compare(n,a.user_pwd);case 12:if(e.sent){e.next=15;break}return e.abrupt("return",r.status(401).json({message:"잘못된 비밀번호입니다."}));case 15:return e.abrupt("return",r.json({message:"비밀번호가 일치합니다."}));case 18:return e.prev=18,e.t0=e.catch(1),console.error("비밀번호 확인 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"내부 서버 오류입니다."}));case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getUserInfo=function(){var e=a(o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.locals.decoded,e.next=4,u.findOne({where:{sign_id:n.sign_id}});case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return",r.status(404).json({message:"사용자를 찾을 수 없습니다."}));case 7:return e.abrupt("return",r.status(200).json({message:"사용자 정보 조회 성공",data:{user_nick:i.user_nick}}));case 10:return e.prev=10,e.t0=e.catch(0),console.error("사용자 정보 조회 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"서버 오류가 발생했습니다."}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),t.updateTendency=function(){var e=a(o().mark((function e(t,r){var n,i,a,s,c,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.params.sign_id,i=t.body.selection,r.locals.decoded.sign_id===n){e.next=6;break}return e.abrupt("return",r.status(403).json({message:"잘못된 사용자 ID입니다."}));case 6:return e.next=8,u.findOne({where:{sign_id:n}});case 8:if(a=e.sent){e.next=11;break}return e.abrupt("return",r.status(404).json({message:"사용자를 찾을 수 없습니다."}));case 11:if(s=new Date(a.createdAt),c=new Date,l=c-s,!(Math.floor(l/864e5)>7)){e.next=17;break}return e.abrupt("return",r.status(403).json({message:"가입 후 7일 이내에만 성향을 변경할 수 있습니다."}));case 17:if(p=null,"city"!==i){e.next=22;break}p="도시",e.next=27;break;case 22:if("forest"!==i){e.next=26;break}p="숲",e.next=27;break;case 26:return e.abrupt("return",r.status(400).json({message:"잘못된 성향 선택입니다."}));case 27:return a.user_tendency=p,e.next=30,a.save();case 30:return e.abrupt("return",r.status(200).json({message:"성향이 성공적으로 수정되었습니다.",data:{sign_id:a.sign_id,user_tendency:a.user_tendency}}));case 33:return e.prev=33,e.t0=e.catch(0),console.error("유저 성향 선택 중 오류 발생:",e.t0),e.abrupt("return",r.status(500).json({message:"서버 오류가 발생했습니다."}));case 37:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(t,r){return e.apply(this,arguments)}}(),t.getLoginPage=function(e,t){var r=new p.auth.OAuth2(process.env.GOOGLE_CLIENT_ID,process.env.GOOGLE_CLIENT_SECRET,"http://localhost:3001/users/login/google/callback").generateAuthUrl({access_type:"offline",scope:["https://www.googleapis.com/auth/userinfo.profile","https://www.googleapis.com/auth/userinfo.email"]});t.redirect(r)},t.googleCallback=function(){var e=a(o().mark((function e(t,r){var n,i,a,c,l,f,d,y,h,m,g,v,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new p.auth.OAuth2(process.env.GOOGLE_CLIENT_ID,process.env.GOOGLE_CLIENT_SECRET,"http://localhost:3001/users/login/google/callback"),console.log("Google OAuth 2.0 Authorization Code:",t.query.code),e.next=5,n.getToken(t.query.code);case 5:return i=e.sent,a=i.tokens,n.setCredentials(a),c=p.oauth2({auth:n,version:"v2"}),e.next=11,c.userinfo.get();case 11:return l=e.sent,f=l.data,d=f.email,y=f.name,h=f.given_name,e.next=15,u.findOne({where:{user_email:d}});case 15:if(!(m=e.sent)){e.next=24;break}return console.log("Google 계정으로 이미 가입된 사용자입니다:",m.user_email),e.next=20,m.update({last_login:new Date});case 20:g=s.sign({sign_id:m.sign_id},process.env.JWT_SECRET,{expiresIn:"24h"}),v="http://localhost:3000/home?token=".concat(g),e.next=30;break;case 24:return e.next=26,u.create({user_email:d,user_name:y||h,sign_id:"google_".concat(l.data.id),user_pwd:"google_auth",user_gender:1,user_birthday:"2000-01-01",user_nick:"어스",user_phone:"000-0000-0000"});case 26:b=e.sent,console.log("신규 사용자로 Google 계정 등록:",b.user_email),g=s.sign({sign_id:b.sign_id,user_id:b.user_id},process.env.JWT_SECRET,{expiresIn:"24h"}),v="http://localhost:3000/question?token=".concat(g);case 30:r.redirect(v),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(0),console.error("Google OAuth 2.0 콜백 처리 중 오류 발생:",e.t0),r.status(500).json({message:"Internal Server Error"});case 37:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(t,r){return e.apply(this,arguments)}}(),t.checkOppositePagePermission=function(e,t){t.json({canAccess:!0})},t.logout=function(e,t){try{t.clearCookie("token"),t.status(200).json({message:"성공적으로 로그아웃되었습니다."})}catch(e){console.error("로그아웃 처리 중 오류 발생:",e),t.status(500).json({message:"서버 오류가 발생했습니다."})}}},2965:(e,t,r)=>{var n=r(8809);e.exports=function(e){return function(t,r,o){var i=r.locals.decoded.user.tier_id;if(!n[i]||!n[i][e])return r.status(403).json({message:"Access denied: insufficient privileges"});o()}}},7056:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&i.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var a=r(829),s=r(818),c=r(3241);s.config(),t.verifyToken=function(e,t,r){try{var n=e.headers.authorization;if(console.log("Authorization header:",e.headers.authorization),!n)return t.status(403).json({message:"No token provided"});var o=a.verify(n.split(" ")[1],process.env.JWT_SECRET);return console.log("Decoded JWT:",o),t.locals.decoded=o,r()}catch(e){return"TokenExpiredError"===e.name?t.status(419).json({code:419,message:"토큰이 만료되었습니다"}):t.status(401).json({code:401,message:"유효하지 않은 토큰입니다"})}},t.verifyAdmin=function(){var e,t=(e=o().mark((function e(t,r,n){var i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=t.headers.authorization){e.next=4;break}return e.abrupt("return",r.status(403).json({message:"No token provided"}));case 4:return s=a.verify(i.split(" ")[1],process.env.JWT_SECRET),r.locals.decoded=s,e.next=8,c.findOne({where:{admin_id:s.admin_id}});case 8:if(e.sent){e.next=11;break}return e.abrupt("return",r.status(403).json({message:"관리자 권한이 필요합니다"}));case 11:return console.log("Admin access granted:",s),e.abrupt("return",n());case 15:if(e.prev=15,e.t0=e.catch(0),"TokenExpiredError"!==e.t0.name){e.next=19;break}return e.abrupt("return",r.status(419).json({code:419,message:"토큰이 만료되었습니다"}));case 19:return e.abrupt("return",r.status(401).json({code:401,message:"유효하지 않은 토큰입니다"}));case 20:case"end":return e.stop()}}),e,null,[[0,15]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}()},3804:(e,t,r)=>{var n=r(8461),o=r(6928),i=r(9896),a=n.diskStorage({destination:function(e,t,r){var n=o.join(__dirname,"../uploads");i.existsSync(n)||i.mkdirSync(n,{recursive:!0}),r(null,n)},filename:function(e,t,r){var n=Date.now()+"-"+Math.round(1e9*Math.random()),i=o.extname(t.originalname);r(null,t.fieldname+"-"+n+i)}}),s=n({storage:a,limits:{fileSize:5242880}}),c=s.array("photos",5),u=s.single("photo");e.exports={uploadMultiple:c,uploadSingle:u}},3241:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{admin_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},admin_acc:{type:l.STRING(255),allowNull:!1},admin_pwd:{type:l.STRING(255),allowNull:!1}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Admin",tableName:"admins",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.Admin.hasMany(e.Notice,{foreignKey:"admin_id",sourceKey:"admin_id",onDelete:"SET NULL"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},7498:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{ans_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},ans_content:{type:l.STRING(255),allowNull:!1},user_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Point",tableName:"points",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.Answer.belongsTo(e.Admin,{foreignKey:"admin_id",sourceKey:"admin_id",onDelete:"CASCADE"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},4982:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{board_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},board_name:{type:l.ENUM("숲","도시","바다"),allowNull:!1}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Board",tableName:"boards",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.Board.hasMany(e.Diary,{foreignKey:"board_id",sourceKey:"board_id",onDelete:"CASCADE"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},2943:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{comment_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},diary_id:{type:l.BIGINT,allowNull:!1},user_id:{type:l.BIGINT,allowNull:!0},comment_text:{type:l.TEXT,allowNull:!0}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Comment",tableName:"comment",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.Comment.belongsTo(e.Diary,{foreignKey:"diary_id",targetKey:"diary_id"}),e.Comment.belongsTo(e.User,{foreignKey:"user_id",targetKey:"user_id"}),e.Comment.hasMany(e.Report,{foreignKey:"comment_id",sourceKey:"comment_id",onDelete:"CASCADE"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},335:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{condition_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},condition_type:{type:l.STRING(255),allowNull:!1},tier_id:{type:l.BIGINT,allowNull:!1},condition_value:{type:l.INTEGER,allowNull:!1}},{sequelize:e,timestamps:!1,modelName:"Condition",tableName:"conditions",charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.Condition.belongsTo(e.Tier,{foreignKey:"tier_id"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},5329:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{diary_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},user_id:{type:l.BIGINT,allowNull:!1},board_id:{type:l.BIGINT,allowNull:!1},diary_title:{type:l.STRING(255),allowNull:!1},diary_content:{type:l.TEXT,allowNull:!1},access_level:{type:l.INTEGER,allowNull:!1},view_count:{type:l.BIGINT,allowNull:!1,defaultValue:0},like_count:{type:l.BIGINT,allowNull:!1,defaultValue:0},post_photo:{type:l.TEXT,allowNull:!0,defaultValue:0}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Diary",tableName:"diaries",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.Diary.belongsTo(e.User,{foreignKey:"user_id",targetKey:"user_id",onDelete:"CASCADE"}),e.Diary.belongsTo(e.Board,{foreignKey:"board_id",targetKey:"board_id",onDelete:"CASCADE"}),e.Diary.hasMany(e.Todo,{foreignKey:"diary_id",targetKey:"diary_id",onDelete:"CASCADE"}),e.Diary.hasMany(e.Report,{foreignKey:"diary_id",sourceKey:"diary_id",onDelete:"CASCADE"}),e.Diary.hasMany(e.TodayPlace,{foreignKey:"diary_id",sourceKey:"diary_id",onDelete:"CASCADE"}),e.Diary.hasMany(e.TodayAnswer,{foreignKey:"diary_id",targetKey:"diary_id",onDelete:"CASCADE"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},8792:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{friend_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},follower_id:{type:l.BIGINT,allowNull:!1},following_id:{type:l.BIGINT,allowNull:!1},status:{type:l.ENUM("pending","rejected","accepted","removed"),allowNull:!0}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Friend",tableName:"Friend",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){this.belongsTo(e.User,{foreignKey:"follower_id",targetKey:"user_id",as:"Follower"}),this.belongsTo(e.User,{foreignKey:"following_id",targetKey:"user_id",as:"Following"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},4758:(e,t,r)=>{"use strict";var n=r(9031),o=r(2119).production,i=r(1171),a=r(3241),s=r(5329),c=r(4982),u=r(4635),l=r(7189),p=r(9534),f=r(8515),d=r(2943),y=r(8792),h=r(6099),m=r(5399),g=r(8516),v=r(3367),b=r(7668),w=r(7498),_=r(6374),x=r(6978),j=r(5100),O=r(204),E=r(335),k=r(8810),P=r(110),S=r(2180),T={},L=new n(o.database,o.username,o.password,o);T.User=i,T.Admin=a,T.Diary=s,T.Board=c,T.TodayAnswer=u,T.TodayQuestion=l,T.Routine=p,T.Todo=f,T.Comment=d,T.Friend=y,T.Like=h,T.Notification=m,T.Point=g,T.PointCriteria=_,T.Profile=v,T.QnA=b,T.Answer=w,T.Tier=j,T.Condition=E,T.TierLog=O,T.UserCondition=k,T.Report=x,T.TodayPlace=P,T.sequelize=L,T.Notice=S,i.initiate(L),s.initiate(L),c.initiate(L),u.initiate(L),l.initiate(L),p.initiate(L),f.initiate(L),d.initiate(L),y.initiate(L),h.initiate(L),m.initiate(L),a.initiate(L),g.initiate(L),_.initiate(L),v.initiate(L),b.initiate(L),w.initiate(L),j.initiate(L),E.initiate(L),O.initiate(L),k.initiate(L),x.initiate(L),P.initiate(L),S.initiate(L),T.sequelize=L,T.Sequelize=n,i.associate(T),s.associate(T),c.associate(T),d.associate(T),y.associate(T),h.associate(T),m.associate(T),u.associate(T),l.associate(T),p.associate(T),f.associate(T),g.associate(T),_.associate(T),v.associate(T),b.associate(T),w.associate(T),j.associate(T),E.associate(T),O.associate(T),k.associate(T),x.associate(T),P.associate(T),x.associate(T),S.associate(T),e.exports=T},6099:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{like_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},diary_id:{type:l.BIGINT,allowNull:!1},user_id:{type:l.BIGINT,allowNull:!1}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Like",tableName:"likes",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){this.belongsTo(e.Diary,{foreignKey:"diary_id",targetKey:"diary_id"}),this.belongsTo(e.User,{foreignKey:"user_id",targetKey:"user_id"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},2180:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{notice_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},title:{type:l.STRING(255),allowNull:!1},content:{type:l.TEXT,allowNull:!1},view_count:{type:l.BIGINT,allowNull:!1,defaultValue:0},admin_id:{type:l.BIGINT,allowNull:!0}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Notice",tableName:"notices",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.Notice.belongsTo(e.Admin,{foreignKey:"admin_id",targetKey:"admin_id",onDelete:"SET NULL"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},5399:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{noti_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},is_read:{type:l.BOOLEAN,allowNull:!0},user_id:{type:l.BIGINT,allowNull:!0},friend_id:{type:l.BIGINT,allowNull:!1},comment_id:{type:l.BIGINT,allowNull:!1},like_id:{type:l.BIGINT,allowNull:!1},qna_id3:{type:l.BIGINT,allowNull:!1},ans_id:{type:l.BIGINT,allowNull:!1}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Notification",tableName:"notification",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.Notification.belongsTo(e.User,{foreignKey:"user_id",targetKey:"user_id"}),e.Notification.belongsTo(e.Friend,{foreignKey:"friend_id",targetKey:"friend_id"}),e.Notification.belongsTo(e.Comment,{foreignKey:"comment_id",targetKey:"comment_id"}),e.Notification.belongsTo(e.Friend,{foreignKey:"follower_id",targetKey:"follower_id"}),e.Notification.belongsTo(e.Like,{foreignKey:"like_id",targetKey:"like_id"}),e.Notification.belongsTo(e.QnA,{foreignKey:"qna_id3",targetKey:"qna_id"}),e.Notification.belongsTo(e.Answer,{foreignKey:"ans_id",targetKey:"ans_id"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},8516:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{point_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},point_num:{type:l.BIGINT,allowNull:!1,defaultValue:0},criteria_id:{type:l.BIGINT,allowNull:!1,references:{model:"PointCriteria",key:"criteria_id"}},user_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Point",tableName:"points",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.Point.belongsTo(e.User,{foreignKey:"user_id",targetKey:"user_id",onDelete:"CASCADE"}),e.Point.belongsTo(e.PointCriteria,{foreignKey:"criteria_id",targetKey:"criteria_id"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},6374:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{criteria_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},content:{type:l.STRING(255),allowNull:!1},remark:{type:l.STRING(255),allowNull:!0},points:{type:l.BIGINT,allowNull:!1}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"PointCriteria",tableName:"point_criteria",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.PointCriteria.hasMany(e.Point,{foreignKey:"criteria_id",sourceKey:"criteria_id"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},3367:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{profile_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},profile_img:{type:l.STRING(255),allowNull:!0}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Profile",tableName:"profiles",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.Profile.belongsTo(e.User,{foreignKey:"user_id",sourceKey:"user_id",onDelete:"CASCADE"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},7668:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},c.apply(null,arguments)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var p=r(9031).Sequelize,f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=u(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,r||[],u(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(t,e),r=t,a=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(i=c(u(1&2?r.prototype:r),"init",n))?function(e){return i.apply(n,e)}:i)([{qna_id:{type:p.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},answer_id:{type:p.BIGINT,allowNull:!0,primaryKey:!0},user_id:o({type:p.BIGINT,allowNull:!1},"type",p.BIGINT),is_completed:{type:p.BOOLEAN,allowNull:!1},qna_title:{type:p.STRING(255),allowNull:!1},qna_content:{type:p.TEXT,allowNull:!1},answer_content:{type:p.TEXT,allowNull:!0},view_count:{type:p.BIGINT,allowNull:!1,defaultValue:0}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Point",tableName:"points",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,i}},{key:"associate",value:function(e){e.QnA.belongsTo(e.User,{foreignKey:"user_id",sourceKey:"user_id",onDelete:"CASCADE"})}}],null&&i(r.prototype,null),a&&i(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a}(p.Model);e.exports=f},6978:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{report_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},reporter_id:{type:l.BIGINT,allowNull:!1},reported_id:{type:l.BIGINT,allowNull:!1},diary_id:{type:l.BIGINT,allowNull:!0},comment_id:{type:l.BIGINT,allowNull:!0},status:{type:l.STRING(100),allowNull:!1},report_type:{type:l.STRING(100),allowNull:!1},report_reason:{type:l.TEXT,allowNull:!0}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"Report",tableName:"reports",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){this.belongsTo(e.User,{foreignKey:"reporter_id",targetKey:"user_id",onDelete:"CASCADE"}),this.belongsTo(e.User,{foreignKey:"reported_id",targetKey:"user_id",onDelete:"CASCADE"}),this.belongsTo(e.Diary,{foreignKey:"diary_id",targetKey:"diary_id",onDelete:"CASCADE"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},9534:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{routine_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},routine_title:{type:l.TEXT,allowNull:!1},description:{type:l.TEXT,allowNull:!0},is_completed:{type:l.BOOLEAN,allowNull:!1,defaultValue:!1},user_id:{type:l.BIGINT,allowNull:!1}},{sequelize:e,timestamps:!1,underscored:!1,modelName:"Routine",tableName:"routines",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.Routine.belongsTo(e.User,{foreignKey:"user_id",targetKey:"user_id",onDelete:"CASCADE"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},5100:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{tier_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},tier_name:{type:l.STRING(100),allowNull:!1},benefits:{type:l.TEXT,allowNull:!0}},{sequelize:e,timestamps:!1,underscored:!1,modelName:"Tier",tableName:"tiers",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},204:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{log_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},user_id:{type:l.BIGINT,allowNull:!1},pre_tier:{type:l.BIGINT,allowNull:!1},new_tier:{type:l.BIGINT,allowNull:!1},changed_at:{type:l.DATE,allowNull:!1,defaultValue:l.NOW}},{sequelize:e,timestamps:!1,modelName:"TierLog",tableName:"tier_logs",charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.TierLog.belongsTo(e.User,{foreignKey:"user_id"}),e.TierLog.belongsTo(e.Tier,{foreignKey:"pre_tier"}),e.TierLog.belongsTo(e.Tier,{foreignKey:"new_tier"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},4635:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{answer_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},answer_text:{type:l.TEXT,allowNull:!1},answer_photo:{type:l.TEXT,allowNull:!0},diary_id:{type:l.BIGINT,allowNull:!1}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"TodayAnswer",tableName:"today_answers",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.TodayAnswer.belongsTo(e.TodayQuestion,{foreignKey:"question_id",targetKey:"question_id",onDelete:"CASCADE"}),e.TodayAnswer.belongsTo(e.Diary,{foreignKey:"diary_id",targetKey:"diary_id",onDelete:"CASCADE"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},110:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{place_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},cate_num:{type:l.BIGINT,allowNull:!1},today_mood:{type:l.TEXT,allowNull:!1},place_memo:{type:l.TEXT,allowNull:!1},diary_id:{type:l.BIGINT,allowNull:!1}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"TodayPlace",tableName:"today_places",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.TodayPlace.belongsTo(e.Diary,{foreignKey:"diary_id",targetKey:"diary_id",onDelete:"CASCADE"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},7189:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{question_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},question_text:{type:l.TEXT,allowNull:!1}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"TodayQuestion",tableName:"today_questions",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.TodayQuestion.hasMany(e.TodayAnswer,{foreignKey:"question_id",sourceKey:"question_id",onDelete:"CASCADE"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},8515:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{todo_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},todo_title:{type:l.TEXT,allowNull:!1},description:{type:l.TEXT,allowNull:!0},is_completed:{type:l.BOOLEAN,allowNull:!1,defaultValue:!1},diary_id:{type:l.BIGINT,allowNull:!1}},{sequelize:e,timestamps:!1,underscored:!1,modelName:"Todo",tableName:"todos",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.Todo.belongsTo(e.Diary,{foreignKey:"diary_id",targetKey:"diary_id",onDelete:"CASCADE"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},1171:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{user_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},sign_id:{type:l.STRING(255),allowNull:!1,unique:!0},user_pwd:{type:l.STRING(255),allowNull:!1},user_name:{type:l.STRING(255),allowNull:!1},user_phone:{type:l.STRING(15),allowNull:!1,validate:{is:/^[0-9]{3}-[0-9]{4}-[0-9]{4}$/}},user_gender:{type:l.BOOLEAN,allowNull:!1},user_birthday:{type:l.DATEONLY,allowNull:!1},ban_count:{type:l.BIGINT,allowNull:!1,defaultValue:0},user_email:{type:l.STRING(255),allowNull:!1,unique:!0},user_tendency:{type:l.ENUM("숲","도시"),allowNull:!0},user_nick:{type:l.STRING(255),allowNull:!1},user_point:{type:l.BIGINT,allowNull:!1,defaultValue:0},last_login:{type:l.DATE,allowNull:!0},tier_id:{type:l.BIGINT,allowNull:!0}},{sequelize:e,timestamps:!0,underscored:!1,modelName:"User",tableName:"users",paranoid:!1,charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.User.hasMany(e.Diary,{foreignKey:"user_id",sourceKey:"user_id",onDelete:"CASCADE"}),e.User.hasMany(e.Comment,{foreignKey:"user_id",sourceKey:"user_id"}),e.User.hasMany(e.Like,{foreignKey:"diary_user",sourceKey:"user_id"}),e.User.hasMany(e.Notification,{foreignKey:"user_id",sourceKey:"user_id"}),e.User.hasMany(e.QnA,{foreignKey:"user_id",sourceKey:"user_id"}),e.User.hasMany(e.Answer,{foreignKey:"user_id",sourceKey:"user_id"}),e.User.hasMany(e.TodayAnswer,{foreignKey:"user_id",sourceKey:"user_id",onDelete:"CASCADE"}),e.User.hasMany(e.Point,{foreignKey:"user_id",sourceKey:"user_id",onDelete:"CASCADE"}),e.User.hasMany(e.Routine,{foreignKey:"user_id",sourceKey:"user_id",onDelete:"CASCADE"}),e.User.hasOne(e.Profile,{foreignKey:"user_id",sourceKey:"user_id",onDelete:"CASCADE"}),e.User.belongsToMany(e.User,{through:e.Friend,foreignKey:"follower_id",as:"Following",otherKey:"following_id"}),e.User.belongsToMany(e.User,{through:e.Friend,foreignKey:"following_id",as:"Followers",otherKey:"follower_id"}),e.User.belongsTo(e.Tier,{foreignKey:"tier_id",targetKey:"tier_id"}),e.User.hasMany(e.UserCondition,{foreignKey:"user_id",sourceKey:"user_id"}),e.User.hasMany(e.TierLog,{foreignKey:"user_id",sourceKey:"user_id"}),e.User.hasMany(e.Report,{foreignKey:"reporter_id",sourceKey:"user_id",onDelete:"CASCADE"}),e.User.hasMany(e.Report,{foreignKey:"reported_id",sourceKey:"user_id",onDelete:"CASCADE"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},8810:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=r(9031).Sequelize,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,i=[{key:"initiate",value:function(e){return(r=t,n=this,"function"==typeof(o=s(c(1&2?r.prototype:r),"init",n))?function(e){return o.apply(n,e)}:o)([{usercondition_id:{type:l.BIGINT,allowNull:!1,primaryKey:!0,autoIncrement:!0},condition_id:{type:l.BIGINT,allowNull:!1},condition_value:{type:l.BIGINT,allowNull:!1},last_updated:{type:l.DATE,allowNull:!1,defaultValue:l.NOW},user_id:{type:l.BIGINT,allowNull:!1},tier_id:{type:l.BIGINT,allowNull:!1}},{sequelize:e,timestamps:!1,modelName:"UserCondition",tableName:"user_conditions",charset:"utf8",collate:"utf8_general_ci"}]);var r,n,o}},{key:"associate",value:function(e){e.UserCondition.belongsTo(e.User,{foreignKey:"user_id"}),e.UserCondition.belongsTo(e.Condition,{foreignKey:"condition_id"}),e.UserCondition.belongsTo(e.Tier,{foreignKey:"tier_id"})}}],null&&o(r.prototype,null),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(l.Model);e.exports=p},5092:(e,t,r)=>{var n=r(7252).Router(),o=r(2965),i=r(3393);n.get("/opposite-page",o("canViewOppositePage"),i.viewOppositePage),n.get("/community",o("canUseCommunity"),i.useCommunity),n.get("/mypage/follow",o("canFollow"),i.follow),n.post("/opposite-page/post",o("canPostOnOppositePage"),i.postOnOppositePage),e.exports=n},6215:(e,t,r)=>{var n=r(7252).Router(),o=r(3284),i=o.updateComment,a=o.createComment,s=o.renderComments,c=o.deleteComment,u=r(7056).verifyToken;n.get("/:diary_id/comments",u,s),n.post("/:diary_id/comments",u,a),n.put("/:diary_id/comments/:comment_id",u,i),n.delete("/:diary_id/comments/:comment_id",u,c),e.exports=n},4738:(e,t,r)=>{var n=r(7252).Router(),o=r(4424),i=o.createTodo,a=o.getTodo,s=o.updateTodo,c=o.deleteTodo,u=o.createRoutine,l=o.getRoutine,p=o.updateRoutine,f=o.deleteRoutine,d=o.createQuestion,y=o.getRandomQuestion,h=o.createAnswer,m=o.getAnswer,g=o.updateAnswer,v=o.deleteAnswer,b=o.createPlace,w=o.getPlace,_=o.updatePlace,x=o.deletePlace,j=r(7056).verifyToken,O=r(3804).uploadSingle;n.post("/todos",j,i),n.get("/todos/:todo_id",j,a),n.patch("/todos/:todo_id",j,s),n.delete("/todos/:todo_id",j,c),n.post("/routines",j,u),n.get("/routines/:routine_id",j,l),n.patch("/routines/:routine_id",j,p),n.delete("/routines/:routine_id",j,f),n.post("/questions",d),n.get("/questions/random",y),n.post("/questions/:question_id/answers",j,O,h),n.get("/questions/:question_id/answers/:answer_id",j,m),n.patch("/questions/:question_id/answers/:answer_id",j,O,g),n.delete("/questions/:question_id/answers/:answer_id",j,v),n.post("/places",j,b),n.get("/places/:place_id",j,w),n.patch("/places/:place_id",j,_),n.delete("/places/:place_id",j,x),e.exports=n},937:(e,t,r)=>{var n=r(7252).Router(),o=r(3804).uploadMultiple,i=r(6462),a=i.sortDiary,s=i.sortWeeklyViews,c=i.sortWeeklyLikes,u=i.renderDiary,l=i.createDiary,p=i.updateDiary,f=i.deleteDiary,d=r(7056).verifyToken;n.get("/",a),n.get("/weekly-views",s),n.get("/weekly-likes",c),n.get("/:diary_id",d,u),n.post("/",d,o,l),n.patch("/:diary_id",d,o,p),n.delete("/:diary_id",d,f),e.exports=n},3439:(e,t,r)=>{var n=r(7252).Router(),o=r(9805),i=o.getFriendDiaries,a=o.getFollowers,s=o.deleteFollowers,c=o.sendFollowRequest,u=o.handleFollowRequest,l=o.getFollowing,p=o.deleteFollowing,f=o.searchFriend,d=o.getFriends,y=r(7056).verifyToken;n.get("/:sign_id/followers",y,a),n.delete("/:sign_id/followers/:follower_sign_id",y,s),n.get("/:sign_id/followings",y,l),n.delete("/:sign_id/:following_sign_id",y,p),n.post("/follow-request",y,c),n.post("/follow-request/handle",y,u),n.get("/:sign_id/search",y,f),n.get("/:sign_id/friends",y,d),n.get("/:sign_id/followings/:following_sign_id/diaries",y,i),e.exports=n},8763:(e,t,r)=>{var n=r(7252).Router(),o=r(3298),i=o.likeDiary,a=o.deleteLike,s=r(7056).verifyToken;n.get("/:diary_id/like",s,i),n.delete("/:diary_id/like",s,a),e.exports=n},2217:(e,t,r)=>{var n=r(7252).Router(),o=r(7868),i=o.getProfile,a=o.updateProfile,s=o.getDiariesByDate,c=r(3804).uploadSingle;n.get("/profile/:user_id",i),n.put("/profile/:user_id",c,a),n.get("/diaries/:createdAt",s),e.exports=n},2108:(e,t,r)=>{var n=r(7252).Router(),o=r(1061),i=o.renderNoticeList,a=o.renderNotice,s=o.createNotice,c=o.updateNotice,u=o.deleteNotice;n.get("/",i),n.get("/:notice_id",a),n.post("/",s),n.patch("/:notice_id",c),n.delete("/:notice_id",u),e.exports=n},1820:(e,t,r)=>{var n=r(7252).Router(),o=r(427),i=o.createPointCriteria,a=o.getAllPointCriteria,s=o.updatePointCriteria,c=o.deletePointCriteria,u=r(7056).verifyAdmin;n.post("/criteria",i),n.get("/criteria/all",a),n.patch("/criteria/:criteria_id",u,s),n.delete("/criteria/:criteria_id",u,c),e.exports=n},1148:(e,t,r)=>{var n=r(7252).Router(),o=r(8339),i=o.renderQnaList,a=o.renderQna,s=o.createQna,c=r(7056).verifyToken;n.get("/",c,i),n.get("/:qna_id",c,a),n.post("/",c,s),e.exports=n},4557:(e,t,r)=>{var n=r(7252).Router(),o=r(2480),i=o.sendVerificationCode,a=o.verifyCode,s=o.register,c=o.checkId,u=o.checkNickname,l=r(7774).sendVerificationEmail;n.post("/",s),n.post("/verify-email",l),n.post("/send-verification-code",i),n.post("/verify-code",a),n.get("/idcheck",c),n.get("/nicknamecheck",u),e.exports=n},7993:(e,t,r)=>{var n=r(7252).Router(),o=r(4751),i=o.reportList,a=o.createReport,s=r(7056).verifyToken;n.get("/",i),n.post("/systems/reports",s,a),e.exports=n},126:(e,t,r)=>{var n=r(7252).Router(),o=r(5709),i=o.login,a=o.findId,s=o.findPwd,c=o.checkPassword,u=o.getUserInfo,l=o.updateTendency,p=o.getLoginPage,f=o.googleCallback,d=r(7056).verifyToken;n.post("/login",i),n.post("/findId",a),n.post("/findPwd",s),n.post("/check-password",d,c),n.get("/me",d,u),n.patch("/:sign_id/tendency",d,l),n.get("/login/google",p),n.get("/login/google/callback",f),e.exports=n},7774:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:S(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var y="suspendedStart",h="suspendedYield",m="executing",g="completed",v={};function b(){}function w(){}function _(){}var x={};p(x,c,(function(){return this}));var j=Object.getPrototypeOf,O=j&&j(j(q([])));O&&O!==r&&i.call(O,c)&&(x=O);var E=_.prototype=b.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function S(t,r,n){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(P.prototype),p(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),p(E,l,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}r(818).config();var a=r(1572),s=function(e,t){return{from:'"USDIARY" <swuweb0320@gmail.com >',to:e,subject:"USDIARY 이메일 인증코드",html:"<p>인증코드는 <strong>".concat(t,"</strong> 입니다.</p>")}};t.sendVerificationEmail=function(){var e,t=(e=o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=a.createTransport({service:"Gmail",auth:{user:"swuweb0320@gmail.com",pass:"wbsd ylod ahov hhat"}}),i=s(t,r),console.log("Mail Options:",i),i.to){e.next=6;break}throw new Error("No recipients defined");case 6:return e.next=8,n.sendMail(i);case 8:console.log("이메일이 성공적으로 전송되었습니다."),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("이메일 전송에 오류가 있습니다.:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()},8809:e=>{e.exports={1:{name:"초승달",canViewOppositePage:!1,canWriteOppositePage:!1,canUseCommunity:!1,canUseFollow:!1,privateDiaryLimit:0},2:{name:"상현달",canViewOppositePage:!0,canWriteOppositePage:!1,canUseCommunity:!0,canUseFollow:!0,privateDiaryLimit:0},3:{name:"보름달",canViewOppositePage:!0,canWriteOppositePage:!0,writeLimit:3,canUseCommunity:!0,canUseFollow:!0,canBuyTendencyChange:!0,privateDiaryLimit:0},4:{name:"그믐달",canViewOppositePage:!0,canWriteOppositePage:!0,writeLimit:1/0,canUseCommunity:!0,canUseFollow:!0,canBuyTendencyChange:!0,privateDiaryLimit:3}}},5486:e=>{"use strict";e.exports=require("bcrypt")},8577:e=>{"use strict";e.exports=require("cors")},6293:e=>{"use strict";e.exports=require("dayjs")},818:e=>{"use strict";e.exports=require("dotenv")},7252:e=>{"use strict";e.exports=require("express")},3850:e=>{"use strict";e.exports=require("googleapis")},829:e=>{"use strict";e.exports=require("jsonwebtoken")},2096:e=>{"use strict";e.exports=require("morgan")},8461:e=>{"use strict";e.exports=require("multer")},1572:e=>{"use strict";e.exports=require("nodemailer")},9031:e=>{"use strict";e.exports=require("sequelize")},2320:e=>{"use strict";e.exports=require("swagger-ui-express")},7906:e=>{"use strict";e.exports=require("validator")},6982:e=>{"use strict";e.exports=require("crypto")},9896:e=>{"use strict";e.exports=require("fs")},6928:e=>{"use strict";e.exports=require("path")},2119:e=>{"use strict";e.exports=JSON.parse('{"development":{"username":"us","password":"usdiary1234^^","database":"usdiary","host":"us-db.c7g80w0sktb0.ap-northeast-2.rds.amazonaws.com","timezone":"+09:00","dialect":"mysql"},"test":{"username":"us","password":"usdiary1234^^","database":"usdiary","host":"us-db.c7g80w0sktb0.ap-northeast-2.rds.amazonaws.com","timezone":"+09:00","dialect":"mysql"},"production":{"username":"us","password":"usdiary1234^^","database":"usdiary","host":"us-db.c7g80w0sktb0.ap-northeast-2.rds.amazonaws.com","timezone":"+09:00","dialect":"mysql"}}')},1157:e=>{"use strict";e.exports=JSON.parse('{"openapi":"3.0.0","info":{"title":"usdiary","description":"usdiary API 명세서","version":"1.0.0"},"servers":[{"url":"http://localhost:3000","description":"Local development server"},{"url":"https://api.usdiary.site","description":"Production server"}],"paths":{"/register":{"post":{"summary":"회원가입","tags":["Register"],"description":"새로운 사용자를 등록합니다.","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Register"}}},"required":true},"responses":{"201":{"description":"사용자가 성공적으로 등록되었습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"회원가입 성공 메시지","example":"회원가입이 완료되었습니다."}}}}}},"400":{"description":"잘못된 요청 또는 유효성 검사 실패"},"500":{"description":"Internal Server Error"}}}},"/register/send-verification-code":{"post":{"summary":"이메일 인증 코드 전송","description":"사용자의 이메일로 인증 코드를 전송합니다.","tags":["Register"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"user_email":{"type":"string","example":"user@example.com"}},"required":["user_email"]}}}},"responses":{"200":{"description":"인증 코드가 성공적으로 전송되었습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"이메일을 확인하세요."},"verificationCode":{"type":"string","example":"abc123"}}}}}},"400":{"description":"요청이 잘못되었습니다. 이메일 입력 또는 유효성에 문제가 있습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","examples":{"missingEmail":"이메일을 입력하세요.","invalidEmail":"유효하지 않은 이메일 주소입니다.","emailExists":"이미 등록된 이메일입니다."}}}}}}},"500":{"description":"서버 오류로 인해 이메일 전송에 실패했습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"이메일 인증 중 오류가 발생했습니다."},"error":{"type":"string","example":"Internal Server Error"}}}}}}}}},"/register/verify-code":{"post":{"summary":"인증 코드 확인","description":"이메일로 전송된 인증 코드를 확인합니다.","tags":["Register"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"user_email":{"type":"string","example":"user@example.com"},"verificationCode":{"type":"string","example":"123456"}},"required":["user_email","verificationCode"]}}}},"responses":{"200":{"description":"인증 코드가 성공적으로 확인되었습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"인증번호가 확인되었습니다. 회원 가입을 계속 진행하세요."}}}}}},"400":{"description":"유효하지 않은 인증 코드 또는 입력 누락이 있습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"message":{"type":"string","examples":{"missingFields":"이메일과 인증번호를 입력하세요.","noStoredCode":"이메일에 대한 인증번호가 없습니다.","invalidCode":"인증번호가 일치하지 않습니다.","expiredCode":"인증번호가 만료되었습니다."}}}}}}},"500":{"description":"서버 오류가 발생했습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"message":{"type":"string","example":"서버 오류가 발생했습니다."},"error":{"type":"string","example":"Internal Server Error"}}}}}}}}},"/register/idcheck":{"get":{"summary":"아이디 중복 확인","description":"아이디의 중복 여부를 확인합니다.","tags":["Register"],"parameters":[{"in":"query","name":"uid","required":true,"schema":{"type":"string","example":"user123"}}],"responses":{"200":{"description":"아이디 사용 가능"},"400":{"description":"이미 사용 중인 아이디입니다."}}}},"/register/nicknamecheck":{"get":{"summary":"닉네임 중복 확인","description":"닉네임의 중복 여부를 확인합니다.","tags":["Register"],"parameters":[{"in":"query","name":"unick","required":true,"schema":{"type":"string","example":"nickname123"}}],"responses":{"200":{"description":"닉네임 사용 가능"},"400":{"description":"이미 사용 중인 닉네임입니다."}}}},"/users/login":{"post":{"summary":"로그인","tags":["User"],"description":"사용자가 로그인할 수 있습니다.","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login"}}},"required":true},"responses":{"200":{"description":"성공적으로 로그인하였습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"로그인 성공 메시지"},"token":{"type":"string","description":"JWT 인증 토큰"}}}}}},"401":{"description":"존재하지 않는 아이디입니다. 또는 잘못된 비밀번호입니다."},"500":{"description":"Internal Server Error"}}}},"/users/logout":{"post":{"summary":"로그아웃","tags":["User"],"description":"사용자가 JWT 토큰을 사용하여 로그아웃합니다.","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"성공적으로 로그아웃되었습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"로그아웃 성공 메시지","example":"성공적으로 로그아웃되었습니다."}}}}}},"401":{"description":"인증되지 않은 사용자입니다."},"500":{"description":"Internal Server Error"}}}},"/users/findID":{"post":{"summary":"아이디 찾기","tags":["User"],"description":"사용자가 아이디를 찾을 수 있습니다.","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindID"}}},"required":true},"responses":{"200":{"description":"아이디 찾기 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"아이디 찾기 성공 메시지","example":"김슈니님의 아이디입니다."},"sign_id":{"type":"string","description":"찾은 사용자 아이디","example":"usdiary"}}}}}},"404":{"description":"사용자 정보와 일치하는 계정을 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}}}},"/users/findPwd":{"post":{"summary":"비밀번호 찾기","tags":["User"],"description":"사용자가 비밀번호를 찾을 수 있습니다.","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindPwd"}}},"required":true},"responses":{"200":{"description":"비밀번호 찾기 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"비밀번호 찾기 성공 메시지","example":"김슈니님의 임시 비밀번호입니다. 로그인 후 비밀번호를 변경해주세요."},"temporaryPassword":{"type":"string","description":"임시 비밀번호","example":"erwedf13hki!"}}}}}},"404":{"description":"사용자 정보와 일치하는 계정을 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}}}},"/users/check-password":{"post":{"summary":"비밀번호 확인","tags":["User"],"description":"로그인된 사용자가 자신의 비밀번호를 확인할 수 있습니다.","security":[{"bearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"password":{"type":"string","description":"사용자가 입력한 비밀번호"}},"required":["password"]}}},"required":true},"responses":{"200":{"description":"비밀번호가 일치합니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"비밀번호 확인 성공 메시지"}}}}}},"401":{"description":"잘못된 비밀번호입니다."},"404":{"description":"사용자를 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}}}},"/users/me":{"get":{"summary":"현재 로그인된 사용자 정보 조회","tags":["User"],"description":"로그인된 사용자의 정보를 가져옵니다.","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"사용자 정보 조회 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"응답 메시지"},"data":{"type":"object","properties":{"user_nick":{"type":"string","description":"사용자 닉네임"}}}}}}}},"401":{"description":"유효하지 않은 토큰입니다."},"404":{"description":"사용자를 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}}}},"/users/{sign_id}/tendency":{"patch":{"summary":"성향 선택 및 업데이트","tags":["User"],"description":"사용자가 자신의 성향을 선택하고 업데이트합니다. 성향 변경은 가입 후 7일 이내에만 가능합니다.","parameters":[{"name":"sign_id","in":"path","required":true,"description":"수정할 사용자의 sign_id","schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"selection":{"type":"string","enum":["city","forest"],"example":"city"}}}}},"required":true},"responses":{"200":{"description":"성공적으로 성향이 수정되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TendencyUpdate"}}}},"403":{"description":"가입 후 7일 이내에만 성향을 변경할 수 있습니다."},"404":{"description":"사용자를 찾을 수 없습니다."},"500":{"description":"서버 오류가 발생했습니다."}},"security":[{"bearerAuth":[]}]}},"/users/login/google":{"get":{"summary":"Google 로그인 페이지로 리디렉션","tags":["User"],"description":"Google 로그인 페이지로 리디렉션합니다. 사용자가 Google 계정으로 인증을 진행한 후, 인증 코드를 얻을 수 있습니다.","responses":{"302":{"description":"Google 로그인 페이지로 리디렉션됩니다."}}}},"/users/login/google/callback":{"get":{"summary":"구글 로그인","tags":["User"],"description":"Google OAuth 2.0 인증 후 리디렉션된 요청을 처리하여 사용자를 로그인시키거나, 신규 사용자인 경우 데이터베이스에 저장한 후 로그인 처리합니다.","parameters":[{"in":"query","name":"code","schema":{"type":"string"},"required":true,"description":"Google OAuth 2.0 인증 후 제공되는 인증 코드"}],"responses":{"200":{"description":"Google 로그인 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"로그인 성공 메시지","example":"Google 로그인 성공"},"data":{"type":"object","properties":{"token":{"type":"string","description":"JWT 인증 토큰","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}}}}}}},"201":{"description":"Google 계정으로 신규 가입 및 로그인 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"신규 가입 성공 메시지","example":"Google 계정으로 신규 가입 및 로그인 성공"},"data":{"type":"object","properties":{"token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}}}}}}},"500":{"description":"Internal Server Error"}}}},"/reports":{"get":{"summary":"신고 목록 조회","description":"신고된 항목들의 목록을 최신순으로 조회합니다.","tags":["Report"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","example":1},"required":false,"description":"조회할 페이지 번호"},{"in":"query","name":"limit","schema":{"type":"integer","example":10},"required":false,"description":"한 페이지에 표시할 항목 수"}],"responses":{"200":{"description":"신고 목록 조회 성공","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"report_id":{"type":"integer","example":123,"description":"신고 ID"},"reporter_id":{"type":"string","example":"user123","description":"신고한 유저의 sign_id"},"reported_id":{"type":"string","example":"user456","description":"신고당한 유저의 sign_id"},"diary_id":{"type":"integer","example":1,"description":"신고된 다이어리 ID"},"comment_id":{"type":"integer","example":10,"description":"신고된 댓글 ID"},"report_type":{"type":"string","example":"스팸","description":"신고 유형"},"report_reason":{"type":"string","example":"광고성 메시지입니다.","description":"신고 이유"},"is_false_report":{"type":"boolean","example":false,"description":"허위 신고 여부"},"createdAt":{"type":"string","format":"date-time","example":"2023-09-24T12:34:56Z","description":"신고 생성 시간"}}}}}}},"500":{"description":"Internal Server Error"}}}},"/systems/reports":{"post":{"summary":"신고 생성","description":"유저가 다이어리 및 댓글에 대한 신고를 생성합니다. 허위 신고 시 신고한 유저는 10포인트가 차감됩니다.","tags":["Report"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"diary_id":{"type":"integer","example":1,"description":"신고할 다이어리 ID"},"comment_id":{"type":"integer","example":10,"description":"신고할 댓글 ID (선택 사항)"},"report_type":{"type":"string","example":"스팸","description":"신고 유형"},"report_reason":{"type":"string","example":"광고성 메시지입니다.","description":"신고 이유 (선택 사항)"},"is_false_report":{"type":"boolean","example":false,"description":"허위 신고 여부 (허위 신고 시 true로 설정)"}},"required":["diary_id","report_type"]}}}},"responses":{"201":{"description":"신고가 성공적으로 생성되었습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Report created successfully"},"data":{"type":"object","properties":{"report_id":{"type":"integer","example":123,"description":"생성된 신고의 ID"},"reporter_id":{"type":"string","example":"user123","description":"신고한 유저의 sign_id"},"reported_id":{"type":"string","example":"user456","description":"신고당한 유저의 sign_id"},"diary_id":{"type":"integer","example":1,"description":"신고된 다이어리의 ID"},"comment_id":{"type":"integer","example":10,"description":"신고된 댓글의 ID"},"report_type":{"type":"string","example":"스팸","description":"신고 유형"},"report_reason":{"type":"string","example":"광고성 메시지입니다.","description":"신고 이유"},"is_false_report":{"type":"boolean","example":false,"description":"허위 신고 여부"},"createdAt":{"type":"string","format":"date-time","example":"2023-09-24T12:34:56Z","description":"신고 생성 시간"}}}}}}}},"404":{"description":"Diary or Comment not found"},"500":{"description":"Internal Server Error"}}}},"/comments/{diary_id}/comments":{"get":{"summary":"댓글 조회","tags":["Comments"],"description":"특정 일기에 대한 모든 댓글을 조회합니다.","parameters":[{"in":"path","name":"diary_id","required":true,"schema":{"type":"string"},"description":"댓글을 조회할 일기의 ID"}],"responses":{"200":{"description":"댓글 조회 성공","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"commentId":{"type":"string","description":"댓글 ID"},"author":{"type":"string","description":"댓글 작성자의 이름"},"content":{"type":"string","description":"댓글 내용"},"createdAt":{"type":"string","format":"date-time","description":"댓글 작성일"}},"example":{"commentId":"607c191e810c19729de860ea","author":"John Doe","content":"This is a comment.","createdAt":"2024-08-21T12:34:56Z"}}}}}},"404":{"description":"일기를 찾을 수 없음 또는 댓글이 없음","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"에러 메시지","example":"일기를 찾을 수 없거나 댓글이 없습니다."}}}}}},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/comments/{comment_id}":{"delete":{"summary":"댓글 삭제","tags":["Comments"],"description":"특정 댓글을 삭제합니다.","parameters":[{"in":"path","name":"comment_id","required":true,"schema":{"type":"string"},"description":"삭제할 댓글의 ID"}],"responses":{"200":{"description":"댓글 삭제 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"삭제 성공 메시지","example":"댓글이 성공적으로 삭제되었습니다."}}}}}},"404":{"description":"댓글을 찾을 수 없음","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"에러 메시지","example":"댓글을 찾을 수 없습니다."}}}}}},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/diaries/{diary_id}":{"get":{"summary":"일기 조회","description":"특정 일기를 가져옵니다.","tags":["Diary"],"parameters":[{"name":"diary_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"성공적으로 일기를 가져왔습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Diary"}}}},"404":{"description":"일기를 찾을 수 없습니다."},"500":{"description":"Internal Server Error"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]},"delete":{"summary":"일기 삭제","description":"특정 일기를 삭제합니다.","tags":["Diary"],"parameters":[{"name":"diary_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"일기가 성공적으로 삭제되었습니다."},"404":{"description":"일기를 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]},"patch":{"summary":"일기 수정","description":"특정 일기를 수정합니다.","tags":["Diary"],"parameters":[{"name":"diary_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/DiaryUpdate"}}},"required":true},"responses":{"200":{"description":"성공적으로 일기가 수정되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Diary"}}}},"404":{"description":"일기를 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/diaries":{"post":{"summary":"일기 생성","description":"새로운 일기를 생성합니다.","tags":["Diary"],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/DiaryCreate"}}},"required":true},"responses":{"201":{"description":"일기가 성공적으로 생성되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Diary"}}}},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]},"get":{"summary":"최신 일기 목록 조회","description":"최신순으로 일기 목록을 조회합니다.","tags":["Diary"],"parameters":[{"name":"page","in":"query","description":"페이지 번호 (기본값: 1)","required":false,"schema":{"type":"integer","default":1}},{"name":"limit","in":"query","description":"페이지당 항목 수 (기본값: 15)","required":false,"schema":{"type":"integer","default":15}},{"name":"board_id","in":"query","description":"필터링할 게시판 ID","required":false,"schema":{"type":"integer"}}],"responses":{"200":{"description":"성공적으로 일기 목록이 조회되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Diary"}}}},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/diaries/weekly-views":{"get":{"summary":"주간 조회수 높은 일기 목록 조회","description":"주간 조회수 높은 순으로 일기 목록을 조회합니다.","tags":["Diary"],"parameters":[{"name":"page","in":"query","description":"페이지 번호 (기본값: 1)","required":false,"schema":{"type":"integer","default":1}},{"name":"limit","in":"query","description":"페이지당 항목 수 (기본값: 15)","required":false,"schema":{"type":"integer","default":15}},{"name":"board_id","in":"query","description":"필터링할 게시판 ID","required":false,"schema":{"type":"integer"}}],"responses":{"200":{"description":"성공적으로 주간 조회수 높은 일기 목록이 조회되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Diary"}}}},"500":{"description":"Internal Server Error"}}}},"/diaries/weekly-likes":{"get":{"summary":"주간 좋아요 높은 일기 목록 조회","description":"일요일부터 토요일까지의 주간 좋아요 높은 순으로 일기 목록을 조회합니다.","tags":["Diary"],"parameters":[{"name":"page","in":"query","description":"페이지 번호 (기본값: 1)","required":false,"schema":{"type":"integer","default":1}},{"name":"limit","in":"query","description":"페이지당 항목 수 (기본값: 15)","required":false,"schema":{"type":"integer","default":15}},{"name":"board_id","in":"query","description":"필터링할 게시판 ID","required":false,"schema":{"type":"integer"}}],"responses":{"200":{"description":"성공적으로 주간 좋아요 높은 일기 목록이 조회되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Diary"}}}},"500":{"description":"Internal Server Error"}}}},"/diaries/{diay_id}/likes":{"post":{"summary":"좋아요 생성","description":"일기에 좋아요를 누릅니다.","tags":["Likes"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"diary_id":{"type":"integer","description":"좋아요를 누를 일기의 ID","example":123}},"required":["diary_id"]}}}},"responses":{"201":{"description":"성공적으로 좋아요가 생성되었습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Like created successfully"},"data":{"type":"object","properties":{"user_id":{"type":"integer","description":"유저 ID"},"diary_id":{"type":"integer","description":"일기 ID"}}}}}}}},"500":{"description":"서버 오류"}},"security":[{"bearerAuth":[]}]}},"/diaries/{diay_id}/likes/{like_id}":{"delete":{"summary":"좋아요 삭제","description":"좋아요를 삭제합니다.","tags":["Likes"],"parameters":[{"name":"like_id","in":"path","description":"삭제할 좋아요의 ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"성공적으로 좋아요가 삭제되었습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Like deleted successfully"}}}}}},"404":{"description":"좋아요를 찾을 수 없습니다."},"500":{"description":"서버 오류"}},"security":[{"bearerAuth":[]}]}},"/diaries/{diary_id}/comments":{"post":{"summary":"댓글 생성","description":"일기에 댓글을 작성합니다.","tags":["Comments"],"parameters":[{"name":"diary_id","in":"path","description":"댓글을 달 일기의 ID","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","description":"댓글 내용","example":"This is a comment."}},"required":["content"]}}}},"responses":{"201":{"description":"성공적으로 댓글이 생성되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Comment"}}}},"404":{"description":"일기를 찾을 수 없습니다."},"500":{"description":"서버 오류"}},"security":[{"bearerAuth":[]}]},"get":{"summary":"댓글 조회","tags":["Comments"],"description":"특정 일기에 대한 모든 댓글을 조회합니다.","parameters":[{"name":"diary_id","in":"path","description":"댓글을 조회할 일기의 ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"댓글 조회 성공","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"commentId":{"type":"string","description":"댓글 ID"},"author":{"type":"string","description":"댓글 작성자의 이름"},"content":{"type":"string","description":"댓글 내용"},"createdAt":{"type":"string","format":"date-time","description":"댓글 작성일"}},"example":{"commentId":"607c191e810c19729de860ea","author":"John Doe","content":"This is a comment.","createdAt":"2024-08-21T12:34:56Z"}}}}}},"404":{"description":"일기를 찾을 수 없거나 댓글이 없음","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"에러 메시지","example":"일기를 찾을 수 없거나 댓글이 없습니다."}}}}}},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/diaries/{diary_id}/comments/{comment_id}":{"put":{"summary":"댓글 수정","description":"일기에 달린 댓글을 수정합니다.","tags":["Comments"],"parameters":[{"name":"diary_id","in":"path","description":"수정할 댓글이 있는 일기의 ID","required":true,"schema":{"type":"integer"}},{"name":"comment_id","in":"path","description":"수정할 댓글의 ID","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","description":"수정된 댓글 내용","example":"Updated comment."}},"required":["content"]}}}},"responses":{"200":{"description":"성공적으로 댓글이 수정되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Comment"}}}},"404":{"description":"댓글을 찾을 수 없거나 수정 권한이 없습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"에러 메시지","example":"댓글을 찾을 수 없거나 수정 권한이 없습니다."}}}}}},"500":{"description":"서버 오류"}},"security":[{"bearerAuth":[]}]}},"/diaries/comments/{comment_id}":{"delete":{"summary":"댓글 삭제","tags":["Comments"],"description":"특정 댓글을 삭제합니다.","parameters":[{"name":"comment_id","in":"path","description":"삭제할 댓글의 ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"댓글 삭제 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"삭제 성공 메시지","example":"댓글이 성공적으로 삭제되었습니다."}}}}}},"404":{"description":"댓글을 찾을 수 없음","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"에러 메시지","example":"댓글을 찾을 수 없습니다."}}}}}},"500":{"description":"서버 오류"}},"security":[{"bearerAuth":[]}]}},"/todos/{todo_id}":{"get":{"summary":"할일 조회","description":"특정 할 일을 가져옵니다.","tags":["Todo"],"parameters":[{"name":"todo_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"성공적으로 할 일을 가져왔습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Todo"}}}},"404":{"description":"할 일을 찾을 수 없습니다."},"500":{"description":"Internal Server Error"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]},"patch":{"summary":"할일 수정","description":"특정 할 일을 수정합니다.","tags":["Todo"],"parameters":[{"name":"todo_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TodoUpdate"}}},"required":true},"responses":{"200":{"description":"성공적으로 할 일이 수정되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Todo"}}}},"404":{"description":"할 일을 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]},"delete":{"summary":"할일 삭제","description":"특정 할 일을 삭제합니다.","tags":["Todo"],"parameters":[{"name":"todo_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"성공적으로 할 일이 삭제되었습니다."},"404":{"description":"할 일을 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/todos":{"post":{"summary":"할일 생성","description":"새로운 할 일을 생성합니다.","tags":["Todo"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TodoCreate"}}},"required":true},"responses":{"201":{"description":"할 일이 성공적으로 생성되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Todo"}}}},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/routines/{routine_id}":{"get":{"summary":"루틴 조회","description":"특정 루틴을 가져옵니다.","tags":["Routine"],"parameters":[{"name":"routine_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"성공적으로 루틴을 가져왔습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Routine"}}}},"404":{"description":"루틴을 찾을 수 없습니다."},"500":{"description":"Internal Server Error"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]},"patch":{"summary":"루틴 수정","description":"특정 루틴을 수정합니다.","tags":["Routine"],"parameters":[{"name":"routine_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoutineUpdate"}}},"required":true},"responses":{"200":{"description":"성공적으로 루틴이 수정되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Routine"}}}},"404":{"description":"루틴을 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]},"delete":{"summary":"루틴 삭제","description":"특정 루틴을 삭제합니다.","tags":["Routine"],"parameters":[{"name":"routine_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"성공적으로 루틴이 삭제되었습니다."},"404":{"description":"루틴을 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/routines":{"post":{"summary":"루틴 생성","description":"새로운 루틴을 생성합니다.","tags":["Routine"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoutineCreate"}}},"required":true},"responses":{"201":{"description":"루틴이 성공적으로 생성되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Routine"}}}},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/contents/questions":{"post":{"summary":"오늘의 질문 생성","tags":["Today\'s Q&A"],"description":"새로운 질문을 생성합니다.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TodayQuestion"}}}},"responses":{"201":{"description":"질문이 성공적으로 생성되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TodayQuestion"}}}},"500":{"description":"서버 오류로 질문 생성에 실패했습니다."}}}},"/contents/questions/random":{"get":{"summary":"랜덤 질문 조회","tags":["Today\'s Q&A"],"description":"데이터베이스에서 랜덤으로 오늘의 질문 중 하나를 조회합니다.","responses":{"200":{"description":"랜덤 질문 조회 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"랜덤 질문 조회 성공"},"data":{"$ref":"#/components/schemas/TodayQuestion"}}}}}},"404":{"description":"질문이 존재하지 않음"},"500":{"description":"서버 오류"}}}},"/contents/questions/{question_id}/answers":{"post":{"summary":"오늘의 답변 등록","tags":["Today\'s Q&A"],"description":"사용자가 특정 질문에 대한 답변을 생성합니다. 사진을 첨부할 수 있습니다.","parameters":[{"name":"question_id","in":"path","required":true,"description":"답변을 생성할 질문의 ID","schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"diary_id":{"type":"integer","example":1,"description":"다이어리 ID"},"answer_text":{"type":"string","description":"답변 텍스트"},"answer_photo":{"type":"string","format":"binary","description":"답변과 함께 첨부할 사진 (선택사항)"}},"required":["answer_text","diary_id"]}}}},"responses":{"201":{"description":"답변이 성공적으로 생성되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Answer"}}}},"403":{"description":"이 질문에 답변할 권한이 없습니다."},"404":{"description":"질문을 찾을 수 없습니다."},"500":{"description":"서버 오류로 답변 생성에 실패했습니다."}},"security":[{"bearerAuth":[]}]}},"/contents/questions/{question_id}/answers/{answer_id}":{"get":{"summary":"오늘의 답변 조회","tags":["Today\'s Q&A"],"description":"사용자가 특정 질문에 대한 답변을 조회합니다.","parameters":[{"name":"question_id","in":"path","required":true,"description":"조회할 답변이 속한 질문의 ID","schema":{"type":"integer"}},{"name":"answer_id","in":"path","required":true,"description":"조회할 답변의 ID","schema":{"type":"integer"}}],"responses":{"200":{"description":"답변이 성공적으로 조회되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Answer"}}}},"404":{"description":"답변을 찾을 수 없습니다."},"500":{"description":"서버 오류로 답변 조회에 실패했습니다."}},"security":[{"bearerAuth":[]}]},"patch":{"summary":"오늘의 답변 수정","tags":["Today\'s Q&A"],"description":"사용자가 특정 질문에 대한 기존 답변을 수정합니다. 사진 수정도 가능합니다.","parameters":[{"name":"question_id","in":"path","required":true,"description":"수정할 답변이 속한 질문의 ID","schema":{"type":"integer"}},{"name":"answer_id","in":"path","required":true,"description":"수정할 답변의 ID","schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"answer_text":{"type":"string","description":"수정할 답변 텍스트"},"answer_photo":{"type":"string","format":"binary","description":"수정할 답변 사진 (선택사항)"}},"required":["answer_text"]}}}},"responses":{"200":{"description":"답변이 성공적으로 수정되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Answer"}}}},"403":{"description":"이 답변을 수정할 권한이 없습니다."},"404":{"description":"답변을 찾을 수 없습니다."},"500":{"description":"서버 오류로 답변 수정에 실패했습니다."}},"security":[{"bearerAuth":[]}]},"delete":{"summary":"오늘의 답변 삭제","tags":["Today\'s Q&A"],"description":"사용자가 특정 질문에 대한 답변을 삭제합니다.","parameters":[{"name":"question_id","in":"path","required":true,"description":"삭제할 답변이 속한 질문의 ID","schema":{"type":"integer"}},{"name":"answer_id","in":"path","required":true,"description":"삭제할 답변의 ID","schema":{"type":"integer"}}],"responses":{"200":{"description":"답변이 성공적으로 삭제되었습니다."},"403":{"description":"이 답변을 삭제할 권한이 없습니다."},"404":{"description":"답변을 찾을 수 없습니다."},"500":{"description":"서버 오류로 답변 삭제에 실패했습니다."}},"security":[{"bearerAuth":[]}]}},"/contents/places":{"post":{"summary":"오늘의 장소 등록","tags":["Today\'s Places"],"description":"사용자가 오늘의 장소를 등록합니다. 사용자는 JWT를 통해 인증되며, 장소 등록 시 카테고리 번호, 메모와 기분을 입력할 수 있습니다.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Place"}}}},"responses":{"201":{"description":"오늘의 장소가 성공적으로 등록되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Place"}}}},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/contents/places/{place_id}":{"get":{"summary":"오늘의 장소 조회","tags":["Today\'s Places"],"description":"사용자가 특정 ID에 해당하는 오늘의 장소를 조회합니다.","parameters":[{"name":"place_id","in":"path","required":true,"description":"조회할 장소의 ID","schema":{"type":"integer"}}],"responses":{"200":{"description":"오늘의 장소 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Place"}}}},"404":{"description":"장소를 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]},"patch":{"summary":"오늘의 장소 수정","tags":["Today\'s Places"],"description":"사용자가 특정 장소의 정보를 수정합니다.","parameters":[{"name":"place_id","in":"path","required":true,"description":"수정할 장소의 ID","schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Place"}}}},"responses":{"200":{"description":"장소가 성공적으로 수정되었습니다.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Place"}}}},"404":{"description":"장소를 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]},"delete":{"summary":"오늘의 장소 삭제","tags":["Today\'s Places"],"description":"사용자가 특정 장소를 삭제합니다.","parameters":[{"name":"place_id","in":"path","required":true,"description":"삭제할 장소의 ID","schema":{"type":"integer"}}],"responses":{"200":{"description":"장소가 성공적으로 삭제되었습니다."},"404":{"description":"장소를 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/friends/{sign_id}/followers":{"get":{"summary":"팔로워 목록 조회","description":"특정 유저의 팔로워 목록을 조회합니다.","tags":["Mooner"],"parameters":[{"name":"sign_id","in":"path","description":"팔로워를 조회할 유저의 sign_id","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"성공적으로 팔로워 목록을 가져왔습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Follower list retrieved successfully"},"data":{"type":"array","items":{"$ref":"#/components/schemas/FollowingUser"}}}}}}},"404":{"description":"유저를 찾을 수 없습니다."},"500":{"description":"Internal Server Error"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]},"delete":{"summary":"팔로워 삭제","description":"유저의 특정 팔로워를 삭제합니다.","tags":["Mooner"],"parameters":[{"name":"sign_id","in":"path","description":"팔로워를 삭제할 사용자의 sign_id","required":true,"schema":{"type":"string"}},{"name":"follower_sign_id","in":"query","description":"삭제할 팔로워의 sign_id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"성공적으로 팔로워를 삭제했습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Follower removed successfully"}}}}}},"404":{"description":"유저 또는 팔로워를 찾을 수 없습니다."},"500":{"description":"Internal Server Error"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]}},"/friends/{sign_id}/followings":{"get":{"summary":"팔로잉 목록 조회","description":"특정 유저가 팔로우하는 목록을 조회합니다.","tags":["Mooner"],"parameters":[{"name":"sign_id","in":"path","description":"팔로잉 목록을 조회할 유저의 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"성공적으로 팔로잉 목록을 가져왔습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Following list retrieved successfully"},"data":{"type":"array","items":{"$ref":"#/components/schemas/FollowingUser"}}}}}}},"404":{"description":"유저를 찾을 수 없습니다."},"500":{"description":"Internal Server Error"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]},"delete":{"summary":"팔로잉 삭제","description":"유저가 팔로우하는 특정 계정을 삭제합니다.","tags":["Mooner"],"parameters":[{"name":"sign_id","in":"path","required":true,"description":"언팔로우를 요청하는 사용자의 sign_id","schema":{"type":"string"}},{"name":"following_sign_id","in":"query","required":true,"description":"언팔로우할 대상 사용자의 sign_id","schema":{"type":"string"}}],"responses":{"200":{"description":"성공적으로 팔로잉을 취소했습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Unfollowed successfully"}}}}}},"404":{"description":"팔로잉 대상을 찾을 수 없습니다."},"500":{"description":"Internal Server Error"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]}},"/friends/follow-request":{"post":{"summary":"팔로우 요청","tags":["Mooner"],"description":"다른 사용자에게 팔로우 요청을 보냅니다.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"requested_sign_id":{"type":"string","description":"팔로우 요청할 사용자의 sign_id","example":"user123"}},"required":["requested_sign_id"]}}},"required":true},"responses":{"201":{"description":"성공적으로 팔로우 요청을 보냈습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"user123님에게 팔로우 요청을 보냈습니다."},"data":{"type":"object","properties":{"sign_id":{"type":"string","example":"user123"},"user_nick":{"type":"string","example":"닉네임"},"profile_img":{"type":"string","example":"http://example.com/profile.jpg"}}}}}}}},"400":{"description":"이미 요청 중이거나 팔로우 상태입니다."},"500":{"description":"팔로우 요청 중 오류 발생"}}}},"/friends/follow-request/handle":{"post":{"summary":"팔로우 요청 처리","tags":["Mooner"],"description":"들어온 팔로우 요청을 수락하거나 거절합니다.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"follower_sign_id":{"type":"string","description":"팔로우 요청을 보낸 사용자의 sign_id","example":"user123"},"action":{"type":"string","enum":["accepted","rejected"],"description":"팔로우 요청을 수락할지 거절할지 결정","example":"accepted"}},"required":["follower_sign_id","action"]}}},"required":true},"responses":{"200":{"description":"성공적으로 요청을 처리했습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"user123님의 팔로우 요청을 수락하였습니다."},"data":{"type":"object","properties":{"follower_sign_id":{"type":"string","example":"user123"},"follower_user_nick":{"type":"string","example":"닉네임"},"follower_profile_img":{"type":"string","example":"http://example.com/profile.jpg"},"status":{"type":"string","example":"accepted"}}}}}}}},"400":{"description":"잘못된 요청입니다."},"404":{"description":"팔로우 요청을 찾을 수 없습니다."},"500":{"description":"팔로우 요청 처리 중 오류 발생"}}}},"/friends/{sign_id}/search":{"get":{"summary":"친구 목록에서 사용자 검색","tags":["Mooner"],"description":"사용자의 친구 목록에서 특정 사용자를 검색합니다.","parameters":[{"name":"sign_id","in":"query","required":true,"description":"검색할 사용자의 sign_id","schema":{"type":"string","example":"user123"}}],"responses":{"200":{"description":"친구 목록에서 사용자를 찾았습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"친구 목록에서 사용자를 찾았습니다."},"data":{"type":"object","properties":{"sign_id":{"type":"string","example":"user123"},"user_name":{"type":"string","example":"홍길동"},"user_nick":{"type":"string","example":"길동이"},"profile_img":{"type":"string","example":"http://example.com/profile.jpg"}}}}}}}},"404":{"description":"해당 사용자는 친구 목록에 없습니다."},"500":{"description":"친구 목록에서 사용자를 검색하는 중 오류가 발생했습니다."}},"security":[{"bearerAuth":[]}]}},"/friends/{sign_id}/friends":{"get":{"summary":"친구 목록 조회","description":"특정 유저의 친구 목록을 조회합니다.","tags":["Mooner"],"parameters":[{"name":"sign_id","in":"path","description":"친구 목록을 조회할 유저의 sign_id","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"성공적으로 친구 목록을 가져왔습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Friend list retrieved successfully"},"data":{"type":"array","items":{"$ref":"#/components/schemas/FollowingUser"}}}}}}},"404":{"description":"유저를 찾을 수 없습니다."},"500":{"description":"Internal Server Error"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]}},"/friends/{sign_id}/followings/{following_sign_id}/diaries":{"get":{"summary":"팔로잉하는 친구의 게시글(일기) 조회","description":"유저의 팔로잉 목록에서 선택한 친구의 게시글(일기)을 조회합니다.","tags":["Mooner"],"parameters":[{"name":"sign_id","in":"path","description":"게시글(일기)을 조회할 유저의 sign_id","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"following_sign_id","in":"path","description":"유저가 조회할 친구의 sign_id  (팔로우하는 친구의 sign_id )","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"성공적으로 친구의 게시글(일기)을 조회했습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Friend diaries retrieved successfully"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Diary"}}}}}}},"404":{"description":"유저 또는 친구를 찾을 수 없거나 친구의 게시글이 없습니다."},"500":{"description":"Internal Server Error"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]}},"/points/criteria":{"post":{"summary":"포인트 기준 등록","tags":["Points"],"description":"관리자가 포인트 기준을 등록합니다. 획득과 차감을 위한 기준을 등록할 수 있습니다.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","description":"포인트 기준 내용 (예: 글쓰기, 댓글 달기 등)","example":"글쓰기"},"remark":{"type":"string","description":"비고","example":"일주일에 최대 5점"},"points":{"type":"integer","description":"부여되거나 차감될 포인트 (음수로 차감, 양수로 획득)","example":1}},"required":["content","points"]}}},"required":true},"responses":{"201":{"description":"포인트 기준이 성공적으로 등록되었습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"포인트 기준이 성공적으로 등록되었습니다."},"data":{"$ref":"#/components/schemas/PointCriteria"}}}}}},"400":{"description":"잘못된 요청입니다. 필수 항목이 누락되었습니다."},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/points/criteria/all":{"get":{"summary":"포인트 기준 조회","tags":["Points"],"description":"관리자가 등록한 모든 포인트 기준을 조회합니다.","responses":{"200":{"description":"포인트 기준이 성공적으로 조회되었습니다.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PointCriteria"}}}}},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/points/criteria/{criteria_id}":{"patch":{"summary":"포인트 기준 수정","tags":["Points"],"description":"관리자가 포인트 기준을 수정합니다.","parameters":[{"in":"path","name":"criteria_id","required":true,"schema":{"type":"integer","example":1},"description":"수정할 포인트 기준 ID"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","description":"포인트 기준 내용","example":"글쓰기"},"remark":{"type":"string","description":"비고","example":"일주일에 최대 5점"},"points":{"type":"integer","description":"부여되거나 차감될 포인트","example":1}}}}}},"responses":{"200":{"description":"포인트 기준이 성공적으로 수정되었습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"포인트 기준이 성공적으로 수정되었습니다."},"data":{"$ref":"#/components/schemas/PointCriteria"}}}}}},"404":{"description":"포인트 기준을 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]},"delete":{"summary":"포인트 기준 삭제","tags":["Points"],"description":"관리자가 포인트 기준을 삭제합니다.","parameters":[{"in":"path","name":"criteria_id","required":true,"schema":{"type":"integer","example":1},"description":"삭제할 포인트 기준 ID"}],"responses":{"200":{"description":"포인트 기준이 성공적으로 삭제되었습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"포인트 기준이 성공적으로 삭제되었습니다."}}}}}},"404":{"description":"포인트 기준을 찾을 수 없습니다."},"500":{"description":"Internal Server Error"}},"security":[{"bearerAuth":[]}]}},"/mypages/profiles/{user_id}":{"get":{"summary":"개인정보 확인","description":"주어진 user_id를 사용하여 사용자의 개인정보를 조회합니다.","tags":["MyPage"],"parameters":[{"name":"user_id","in":"path","description":"조회할 사용자의 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"사용자 정보 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileResponse"}}}},"404":{"description":"해당 사용자가 존재하지 않습니다."},"500":{"description":"사용자 정보를 조회하는 중 오류가 발생했습니다."},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]},"put":{"summary":"개인정보 수정","description":"주어진 user_id를 사용하여 사용자의 개인정보를 수정합니다.","tags":["MyPage"],"parameters":[{"name":"user_id","in":"path","description":"수정할 사용자의 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileUpdateRequest"}}}},"responses":{"200":{"description":"사용자 정보 수정 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileUpdateResponse"}}}},"400":{"description":"잘못된 요청 데이터"},"404":{"description":"해당 사용자가 존재하지 않습니다."},"500":{"description":"사용자 정보를 수정하는 중 오류가 발생했습니다."},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]}},"/mypages/diaries/{createdAt}":{"get":{"summary":"캘린더 기록 조회","description":"선택된 날짜에 작성된 일기들을 조회합니다.","tags":["MyPage"],"parameters":[{"name":"date","in":"path","description":"조회할 날짜 (형식: YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"일기 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiariesByDateResponse"}}}},"404":{"description":"해당 날짜에 작성된 일기가 없습니다."},"500":{"description":"서버 오류"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]}},"/qnas/list":{"get":{"summary":"1:1 문의 목록 조회","description":"사용자가 작성한 1:1 문의 목록을 조회합니다.","tags":["QnA"],"responses":{"200":{"description":"문의 목록 조회 성공","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QnaListResponse"}}}}},"404":{"description":"문의 내역이 없습니다."},"500":{"description":"서버 오류"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]}},"/qnas/{qna_id}":{"get":{"summary":"특정 1:1 문의 조회","description":"사용자가 작성한 특정 1:1 문의를 조회합니다.","tags":["QnA"],"parameters":[{"name":"qna_id","in":"path","description":"조회할 QnA ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"문의 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QnaResponse"}}}},"404":{"description":"해당 문의를 찾을 수 없습니다."},"500":{"description":"서버 오류"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]}},"/qnas":{"post":{"summary":"1:1 문의 등록","description":"사용자가 새로운 1:1 문의를 등록합니다.","tags":["QnA"],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/CreateQnaRequest"}}},"required":true},"responses":{"201":{"description":"문의 등록 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QnaResponse"}}}},"500":{"description":"서버 오류"},"default":{"description":"기타 오류"}},"security":[{"bearerAuth":[]}]}},"/notice":{"get":{"summary":"공지사항 목록 조회","tags":["Notice"],"description":"공지사항 목록을 조회할 수 있습니다.","responses":{"200":{"description":"공지사항 목록 조회 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"성공 메시지"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Notice"}}}}}}},"500":{"description":"서버 오류"}}},"post":{"summary":"공지사항 생성","tags":["Notice"],"description":"관리자가 새로운 공지사항을 생성할 수 있습니다.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"공지사항 제목","example":"새로운 공지사항"},"content":{"type":"string","description":"공지사항 내용","example":"공지사항의 내용입니다."}}}}}},"responses":{"201":{"description":"공지사항 생성 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"성공 메시지"},"data":{"$ref":"#/components/schemas/Notice"}}}}}},"500":{"description":"서버 오류"}}}},"/notice/{notice_id}":{"get":{"summary":"공지사항 단일 조회","tags":["Notice"],"description":"특정 공지사항을 조회할 수 있습니다.","parameters":[{"name":"notice_id","in":"path","required":true,"schema":{"type":"integer"},"description":"조회할 공지사항의 ID"}],"responses":{"200":{"description":"공지사항 조회 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"성공 메시지"},"data":{"$ref":"#/components/schemas/Notice"}}}}}},"404":{"description":"공지사항을 찾을 수 없음"},"500":{"description":"서버 오류"}}},"patch":{"summary":"공지사항 수정","tags":["Notice"],"description":"특정 공지사항을 수정할 수 있습니다.","parameters":[{"name":"notice_id","in":"path","required":true,"schema":{"type":"integer"},"description":"수정할 공지사항의 ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"공지사항 제목","example":"수정된 공지사항 제목"},"content":{"type":"string","description":"수정된 공지사항 내용","example":"수정된 공지사항 내용입니다."}}}}}},"responses":{"200":{"description":"공지사항 수정 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"성공 메시지"},"data":{"$ref":"#/components/schemas/Notice"}}}}}},"404":{"description":"공지사항을 찾을 수 없음"},"500":{"description":"서버 오류"}}},"delete":{"summary":"공지사항 삭제","tags":["Notice"],"description":"특정 공지사항을 삭제할 수 있습니다.","parameters":[{"name":"notice_id","in":"path","required":true,"schema":{"type":"integer"},"description":"삭제할 공지사항의 ID"}],"responses":{"200":{"description":"공지사항 삭제 성공","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"성공 메시지"}}}}}},"404":{"description":"공지사항을 찾을 수 없음"},"500":{"description":"서버 오류"}}}},"/opposite-page":{"get":{"summary":"반대 페이지 조회","tags":["Membership"],"description":"사용자가 반대 페이지를 조회할 수 있는지 체크합니다.","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"반대 페이지를 성공적으로 조회했습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Opposite page viewed"}}}}}},"403":{"description":"권한이 없습니다."},"500":{"description":"Internal Server Error"}}}},"/community":{"get":{"summary":"친구 커뮤니티 기능 사용","tags":["Membership"],"description":"사용자가 친구 커뮤니티 기능을 사용할 수 있는지 체크합니다.","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"친구 커뮤니티에 성공적으로 접근했습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Community accessed"}}}}}},"403":{"description":"권한이 없습니다."},"500":{"description":"Internal Server Error"}}}},"/mypage/follow":{"get":{"summary":"마이페이지 팔로우","tags":["Membership"],"description":"사용자가 마이페이지에서 팔로우 기능을 사용할 수 있는지 체크합니다.","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"성공적으로 팔로우했습니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Followed successfully"}}}}}},"403":{"description":"권한이 없습니다."},"500":{"description":"Internal Server Error"}}}},"/opposite-page/post":{"get":{"summary":"반대 페이지에 게시글 작성","tags":["Membership"],"description":"사용자가 반대 페이지에 게시글을 작성할 수 있는지 체크합니다.","security":[{"bearerAuth":[]}],"responses":{"201":{"description":"반대 페이지에 게시글 작성 가능합니다.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Post created on opposite page"}}}}}},"403":{"description":"권한이 없습니다."},"500":{"description":"Internal Server Error"}}}}},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"Login":{"type":"object","properties":{"sign_id":{"type":"string","description":"사용자 아이디"},"password":{"type":"string","format":"password","description":"사용자 비밀번호"}},"required":["sign_id","password"]},"FindID":{"type":"object","properties":{"user_name":{"type":"string","description":"사용자 이름"},"user_email":{"type":"string","description":"사용자 이메일"},"user_birthday":{"type":"string","format":"date","description":"사용자 생년월일 (YYYY-MM-DD)"}},"required":["user_name","user_email","user_birthday"]},"FindPwd":{"type":"object","properties":{"user_name":{"type":"string","description":"사용자 이름"},"sign_id":{"type":"string","description":"사용자 아이디"},"user_email":{"type":"string","description":"사용자 이메일"}},"required":["user_name","sign_id","user_email"]},"Register":{"type":"object","properties":{"sign_id":{"type":"string","description":"사용자 아이디"},"user_name":{"type":"string","description":"사용자 이름"},"user_nick":{"type":"string","description":"사용자 닉네임"},"user_email":{"type":"string","description":"사용자 이메일"},"user_pwd":{"type":"string","format":"password","description":"사용자 비밀번호"},"confirmPassword":{"type":"string","format":"password","description":"비밀번호 확인"},"phone":{"type":"string","description":"전화번호"},"user_birthday":{"type":"string","format":"date","description":"생년월일 (YYYY-MM-DD)"},"user_gender":{"type":"string","description":"성별 (male, female)"}},"required":["sign_id","user_name","user_nick","user_email","user_pwd","confirmPassword","phone","user_birthday","user_gender"]},"TendencyUpdate":{"type":"object","properties":{"sign_id":{"type":"integer","description":"사용자 sign_id"},"user_tendency":{"type":"string","description":"유저 성향(숲, 도시)"}}},"Diary":{"type":"object","properties":{"diary_id":{"type":"integer","format":"int64","description":"일기 ID"},"sign_id":{"type":"integer","format":"int64","description":"사용자 sign_id"},"board_id":{"type":"integer","format":"int64","description":"게시판 ID"},"diary_title":{"type":"string","description":"일기 제목"},"diary_content":{"type":"string","description":"일기 내용"},"access_level":{"type":"integer","description":"접근 수준 (0: public, 1: private, 2: friend)"},"view_count":{"type":"integer","format":"int64","description":"조회 수"},"like_count":{"type":"integer","format":"int64","description":"좋아요 수"},"post_photo":{"type":"string","description":"게시물 사진 URL"},"createdAt":{"type":"string","format":"date-time","description":"일기 생성 시각"},"updatedAt":{"type":"string","format":"date-time","description":"일기 수정 시각"}},"required":["diary_id","sign_id","board_id","diary_title","diary_content","access_level","view_count","like_count"]},"DiaryCreate":{"type":"object","properties":{"diary_title":{"type":"string","description":"일기 제목"},"diary_content":{"type":"string","description":"일기 내용"},"diary_cate":{"type":"string","description":"일기 카테고리"},"access_level":{"type":"integer","description":"접근 수준 (0: public, 1: private, 2: friend)"},"board_id":{"type":"integer","format":"int64","description":"게시판 ID"},"post_photo":{"type":"string","format":"binary","description":"게시물 사진"}},"required":["diary_title","diary_content","access_level","board_id"]},"DiaryUpdate":{"type":"object","properties":{"diary_title":{"type":"string","description":"일기 제목"},"diary_content":{"type":"string","description":"일기 내용"},"diary_cate":{"type":"string","description":"일기 카테고리"},"access_level":{"type":"integer","description":"접근 수준 (0: public, 1: private, 2: friend)"},"post_photo":{"type":"string","format":"binary","description":"게시물 사진"}}},"Todo":{"type":"object","properties":{"todo_id":{"type":"integer","format":"int64","description":"할 일 ID"},"diary_id":{"type":"integer","format":"int64","description":"연결된 일기 ID"},"description":{"type":"string","description":"할 일 내용"},"is_completed":{"type":"boolean","description":"할 일 완료 여부"},"createdAt":{"type":"string","format":"date-time","description":"할 일 생성 시각"},"updatedAt":{"type":"string","format":"date-time","description":"할 일 수정 시각"}},"required":["todo_id","diary_id","description","is_completed"]},"TodoCreate":{"type":"object","properties":{"diary_id":{"type":"integer","format":"int64","description":"연결된 일기 ID"},"description":{"type":"string","description":"할 일 내용"},"is_completed":{"type":"boolean","description":"할 일 완료 여부","default":false}},"required":["diary_id","description"]},"TodoUpdate":{"type":"object","properties":{"description":{"type":"string","description":"할 일 내용"},"is_completed":{"type":"boolean","description":"할 일 완료 여부"}}},"Routine":{"type":"object","properties":{"routine_id":{"type":"integer","format":"int64","description":"루틴 ID"},"sign_id":{"type":"integer","format":"int64","description":"사용자 sign_id"},"description":{"type":"string","description":"루틴 설명"},"is_completed":{"type":"boolean","description":"루틴 완료 여부"},"createdAt":{"type":"string","format":"date-time","description":"루틴 생성 시각"},"updatedAt":{"type":"string","format":"date-time","description":"루틴 수정 시각"}},"required":["routine_id","sign_id","description","is_completed"]},"RoutineCreate":{"type":"object","properties":{"sign_id":{"type":"integer","format":"int64","description":"사용자 ID"},"description":{"type":"string","description":"루틴 설명"},"is_completed":{"type":"boolean","description":"루틴 완료 여부","default":false}},"required":["sign_id","description"]},"RoutineUpdate":{"type":"object","properties":{"description":{"type":"string","description":"루틴 설명"},"is_completed":{"type":"boolean","description":"루틴 완료 여부"}}},"TodayQuestion":{"type":"object","properties":{"question_id":{"type":"integer","description":"질문 ID"},"question_text":{"type":"string","description":"질문의 내용"},"createdAt":{"type":"string","format":"date-time","description":"질문이 생성된 시간"},"updatedAt":{"type":"string","format":"date-time","description":"질문이 수정된 시간"}}},"Answer":{"type":"object","properties":{"answer_id":{"type":"integer","description":"답변 ID"},"question_id":{"type":"integer","description":"질문 ID"},"sign_id":{"type":"integer","description":"사용자 ID"},"answer_text":{"type":"string","description":"답변 텍스트"},"diary_id":{"type":"integer","format":"int64","description":"연결된 일기 ID"},"answer_photo":{"type":"string","format":"binary","description":"첨부된 답변 사진 경로"},"createdAt":{"type":"string","format":"date-time","description":"답변 생성 날짜"},"updatedAt":{"type":"string","format":"date-time","description":"답변 수정 날짜"}},"required":["answer_id","question_id","sign_id","diary_id","answer_text"]},"Place":{"type":"object","properties":{"place_id":{"type":"integer","description":"장소 ID","example":1},"today_mood":{"type":"string","description":"오늘의 기분","example":"행복"},"place_memo":{"type":"string","description":"장소에 대한 메모","example":"카페에서 커피마시기"},"cate_num":{"type":"integer","description":"카테고리 번호 (영화관:1, 놀이공원:2 등)","example":3},"sign_id":{"type":"integer","description":"사용자 ID"},"diary_id":{"type":"integer","format":"int64","description":"연결된 일기 ID"},"createdAt":{"type":"string","format":"date-time","description":"장소 생성 시간","example":"2023-09-24T12:34:56Z"},"updatedAt":{"type":"string","format":"date-time","description":"장소 수정 시간","example":"2023-09-24T13:00:00Z"}}},"AddFollowingRequest":{"type":"object","properties":{"following_id":{"type":"string","description":"팔로우할 대상 사용자의 ID","example":"targetUser123"}},"required":["following_id"]},"AddFollowingResponse":{"type":"object","properties":{"message":{"type":"string","description":"성공 메시지","example":"성공적으로 팔로우 되었습니다."}}},"FollowingUser":{"type":"object","properties":{"sign_id":{"type":"string","description":"사용자의 ID"},"user_name":{"type":"string","description":"사용자의 이름"},"user_tendency":{"type":"string","description":"사용자의 성향"}}},"PointCriteria":{"type":"object","properties":{"criteria_id":{"type":"integer","description":"포인트 기준 ID","example":1},"content":{"type":"string","description":"포인트 기준 내용 (예: 글쓰기, 댓글 달기 등)","example":"글쓰기"},"remark":{"type":"string","description":"비고","example":"일주일에 최대 5점"},"points":{"type":"integer","description":"부여되거나 차감될 포인트 (음수는 차감, 양수는 획득)","example":1}}},"QnaListResponse":{"type":"object","properties":{"qna_id":{"type":"integer","description":"QnA ID"},"qna_title":{"type":"string","description":"QnA 제목"},"is_completed":{"type":"boolean","description":"QnA 처리 상태"},"view_count":{"type":"integer","description":"조회수"}}},"QnaResponse":{"type":"object","properties":{"qna_id":{"type":"integer","description":"QnA ID"},"qna_title":{"type":"string","description":"QnA 제목"},"qna_content":{"type":"string","description":"QnA 내용"},"is_completed":{"type":"boolean","description":"QnA 처리 상태"},"view_count":{"type":"integer","description":"조회수"}}},"CreateQnaRequest":{"type":"object","properties":{"qna_title":{"type":"string","description":"QnA 제목","example":"문의 제목입니다."},"qna_content":{"type":"string","description":"사용자가 작성한 문의 내용","example":"질문 내용을 여기에 작성하세요."}},"required":["qna_title","qna_content"]},"ProfileResponse":{"type":"object","properties":{"message":{"type":"string","example":"사용자 정보 조회 성공"},"data":{"type":"object","properties":{"sign_id":{"type":"integer","format":"int64"},"user_nick":{"type":"string"},"user_email":{"type":"string"},"user_name":{"type":"string"},"user_phone":{"type":"string"},"user_birthday":{"type":"string","format":"date"},"user_gender":{"type":"string"},"profile_img":{"type":"string","format":"url"}}}}},"ProfileUpdateRequest":{"type":"object","properties":{" user_pwd":{"type":"string"},"user_nick":{"type":"string"},"user_email":{"type":"string"},"user_name":{"type":"string"},"user_phone":{"type":"string"},"user_birthday":{"type":"string","format":"date"},"user_gender":{"type":"string"},"profile_img":{"type":"string","format":"url"}}},"ProfileUpdateResponse":{"type":"object","properties":{"message":{"type":"string","example":"사용자 정보 수정 성공"},"data":{"type":"object","properties":{"sign_id":{"type":"integer","format":"int64"},"user_nick":{"type":"string"},"user_email":{"type":"string"},"user_name":{"type":"string"},"user_phone":{"type":"string"},"user_birthday":{"type":"string","format":"date"},"user_gender":{"type":"string"},"profile_img":{"type":"string","format":"url"}}}}},"DiariesByDateResponse":{"type":"object","properties":{"message":{"type":"string","description":"응답 메시지","example":"일기 조회 성공"},"data":{"type":"array","items":{"type":"object","properties":{"diary_id":{"type":"integer","format":"int64","description":"일기 ID"},"diary_title":{"type":"string","description":"일기 제목"},"diary_content":{"type":"string","description":"일기 내용"},"board_id":{"type":"integer","format":"int64","description":"게시판 ID"}},"required":["diary_id","diary_title","diary_content","board_id"]},"description":"조회된 일기 리스트"}}},"Notice":{"type":"object","properties":{"notice_id":{"type":"integer","description":"공지사항 ID"},"title":{"type":"string","description":"공지사항 제목"},"content":{"type":"string","description":"공지사항 내용"},"view_count":{"type":"integer","description":"공지사항 조회수"},"created_at":{"type":"string","format":"date-time","description":"공지사항 생성일"}}}}}}')}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}var n=r(7252),o=n(),i=r(6928),a=r(2096),s=r(2320),c=r(1157),u=r(8577),l=r(5092),p=r(937),f=r(126),d=r(4557),y=r(6215),h=r(4738),m=r(3439),g=r(2217),v=r(8763),b=r(1820),w=r(7993),_=r(1148),x=r(2108),j=r(4758).sequelize;o.use(u({origin:["http://localhost:3001","https://api.usdiary.site"],methods:["GET","POST","PUT","PATCH","DELETE","OPTIONS"],credentials:!0})),o.set("port",process.env.PORT||3e3),j.sync({force:!1}).then((function(){console.log("데이터 베이스 연결 성공")})).catch((function(e){console.log(e)})),o.use(a("dev")),o.use(n.json()),o.use("/uploads",n.static(i.join(__dirname,"uploads"))),o.use("/swagger",s.serve,s.setup(c)),o.use("/diaries",p),o.use("/users",f),o.use("/register",d),o.use("/diaries",y),o.use("/contents",h),o.use("/friends",m),o.use("/checkPermissions",l),o.use("/mypages",g),o.use("/like",v),o.use("/points",b),o.use("/reports",w),o.use("/qnas",_),o.use("/notice",x),o.use((function(e,t,r){var n=new Error("".concat(e.method," ").concat(e.url," 라우터가 없습니다."));n.status=404,r(n)})),o.use((function(e,t,r,n){r.locals.message=e.message,r.locals.error={},r.status(e.status||500)})),o.listen(o.get("port"),(function(){console.log(o.get("port"),"번 포트에서 대기중")}))})();